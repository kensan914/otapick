(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"./src/components/molecules/info/BlogSearchListInfo.jsx":
/*!**************************************************************!*\
  !*** ./src/components/molecules/info/BlogSearchListInfo.jsx ***!
  \**************************************************************/
/*! exports provided: BlogSearchListInfo, default */
/*! exports used: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export BlogSearchListInfo */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../modules/utils */ "./src/components/modules/utils.js");\n\n\nclass BlogSearchListInfo extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n      className: "card otapick-card2 " + (_modules_utils__WEBPACK_IMPORTED_MODULE_1__[/* isSmp */ "w"] ? "smp mb-3 " : _modules_utils__WEBPACK_IMPORTED_MODULE_1__[/* isMobile */ "u"] ? "mb-3 mt-1 " : "my-4 ") + this.props.group\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n      className: "card-body px-4 px-sm-5 py-4"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n      className: "row mx-2 justify-content-between"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {\n      className: "my-auto d-flex align-items-center"\n    }, !this.props.title ? "\\u00A0" : this.props.title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", {\n      className: "info-hr"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n      className: "row justify-content-between"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n      className: "col-12 col-md-6 col-lg-7 col-xl-8"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n      className: "info-description my-1 my-sm-0"\n    }, "\\u691C\\u7D22\\u7D50\\u679C\\uFF08", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, this.props.numOfHit), "\\u4EF6\\uFF09"))))));\n  }\n\n}\n/* harmony default export */ __webpack_exports__["a"] = (BlogSearchListInfo);\n\n//# sourceURL=webpack:///./src/components/molecules/info/BlogSearchListInfo.jsx?')},"./src/components/templates/BlogViewTemplate.jsx":
/*!*******************************************************************!*\
  !*** ./src/components/templates/BlogViewTemplate.jsx + 2 modules ***!
  \*******************************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@fortawesome/react-fontawesome/index.es.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/axios/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/atoms/AdSense.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/atoms/NotFound.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/atoms/TooltipComponent.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/contexts/AuthContext.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/contexts/DomContext.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/modules/env.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/modules/utils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/molecules/Headline.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/molecules/ImageCard.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/molecules/Loader.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/molecules/info/BlogSearchListInfo.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/templates/ViewTemplate.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/file-saver/dist/FileSaver.min.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-cookie/es6/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-masonry-component/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-router-dom/esm/react-router-dom.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/react-router-cache-route/lib/index.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("./node_modules/react/index.js");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./src/components/molecules/Headline.jsx\nvar Headline = __webpack_require__("./src/components/molecules/Headline.jsx");\n\n// EXTERNAL MODULE: ./src/components/modules/utils.js\nvar utils = __webpack_require__("./src/components/modules/utils.js");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__("./node_modules/axios/index.js");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js");\n\n// EXTERNAL MODULE: ./src/components/modules/env.js\nvar env = __webpack_require__("./src/components/modules/env.js");\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\nvar index_es = __webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js");\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/react-fontawesome/index.es.js\nvar react_fontawesome_index_es = __webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js");\n\n// EXTERNAL MODULE: ./src/components/atoms/TooltipComponent.jsx\nvar TooltipComponent = __webpack_require__("./src/components/atoms/TooltipComponent.jsx");\n\n// CONCATENATED MODULE: ./src/components/molecules/info/BlogViewInfo.jsx\n\n\n\n\n\n\n\n\n\nclass BlogViewInfo_BlogViewInfo extends react_default.a.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let officialLinkTitle;\n    Object.values(env["n" /* GROUPS */]).forEach(groupObj => {\n      if (groupObj.key === this.props.group) officialLinkTitle = groupObj.domain;\n    });\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "card otapick-card2 " + (utils["w" /* isSmp */] ? "smp mb-3 " : utils["u" /* isMobile */] ? "mb-3 mt-1 " : "my-4 ") + this.props.group\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "card-body px-4 px-sm-5 py-4"\n    }, this.props.title.length > 0 ? this.props.title.length > 50 ? /*#__PURE__*/react_default.a.createElement("h3", {\n      className: "smaller"\n    }, this.props.title) : /*#__PURE__*/react_default.a.createElement("h3", null, this.props.title) : /*#__PURE__*/react_default.a.createElement("h3", null, "\\u00A0"), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "row download-info mt-3"\n    }, !Object.keys(this.props.writer).length ? /*#__PURE__*/react_default.a.createElement(react_router_dom["Link"], {\n      to: "",\n      className: "info-description ml-3 small " + this.props.group\n    }, "\\u00A0") : /*#__PURE__*/react_default.a.createElement(react_router_dom["Link"], {\n      to: this.props.writer.url["blogs"],\n      className: "info-description ml-3 small " + this.props.group\n    }, !this.props.writer.name ? "\\u00A0" : this.props.writer.name), /*#__PURE__*/react_default.a.createElement("p", {\n      className: "info-description ml-3 small mb-0"\n    }, this.props.postDate)), /*#__PURE__*/react_default.a.createElement("hr", {\n      className: "info-hr"\n    }), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "row ml-2 ml-sm-3"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "row col-12 col-sm-7 col-md-8 col-lg-9 col-xl-10 info-description"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "d-flex align-items-center"\n    }, /*#__PURE__*/react_default.a.createElement(TooltipComponent["a" /* default */], {\n      title: "\\u95B2\\u89A7\\u6570"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "d-flex align-items-center",\n      id: "num-of-views-icon"\n    }, /*#__PURE__*/react_default.a.createElement(react_fontawesome_index_es["a" /* FontAwesomeIcon */], {\n      icon: index_es["p" /* faEye */],\n      style: {\n        color: "gray"\n      }\n    })))), "\\u00A0", /*#__PURE__*/react_default.a.createElement("div", {\n      className: ""\n    }, this.props.numOfViews), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "d-flex align-items-center"\n    }, /*#__PURE__*/react_default.a.createElement(TooltipComponent["a" /* default */], {\n      title: "\\u7DCF\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\\u6570"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "d-flex align-items-center ml-3",\n      id: "num-of-downloads-icon"\n    }, /*#__PURE__*/react_default.a.createElement(react_fontawesome_index_es["a" /* FontAwesomeIcon */], {\n      icon: index_es["k" /* faDownload */],\n      style: {\n        color: "gray"\n      }\n    })))), "\\u00A0", /*#__PURE__*/react_default.a.createElement("div", {\n      className: ""\n    }, this.props.numOfDownloads)), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "col-12 col-sm-5 col-md-4 col-lg-3 col-xl-2 info-description px-0 mt-2 mt-sm-0"\n    }, /*#__PURE__*/react_default.a.createElement(TooltipComponent["a" /* default */], {\n      title: "\\u516C\\u5F0F\\u30D6\\u30ED\\u30B0\\u3067\\u78BA\\u8A8D"\n    }, /*#__PURE__*/react_default.a.createElement("a", {\n      href: this.props.officialUrl,\n      className: this.props.group,\n      target: "_blank",\n      rel: "noreferrer",\n      id: "officialLink"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "download-official-a"\n    }, /*#__PURE__*/react_default.a.createElement(react_fontawesome_index_es["a" /* FontAwesomeIcon */], {\n      icon: index_es["o" /* faExternalLinkAlt */]\n    }), "\\u00A0", officialLinkTitle)))))));\n  }\n\n}\n\n/* harmony default export */ var info_BlogViewInfo = (Object(react_router_dom["withRouter"])(BlogViewInfo_BlogViewInfo));\n// EXTERNAL MODULE: ./node_modules/file-saver/dist/FileSaver.min.js\nvar FileSaver_min = __webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");\n\n// EXTERNAL MODULE: ./node_modules/react-masonry-component/lib/index.js\nvar lib = __webpack_require__("./node_modules/react-masonry-component/lib/index.js");\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./src/components/molecules/ImageCard.jsx\nvar ImageCard = __webpack_require__("./src/components/molecules/ImageCard.jsx");\n\n// EXTERNAL MODULE: ./node_modules/react-cookie/es6/index.js + 8 modules\nvar es6 = __webpack_require__("./node_modules/react-cookie/es6/index.js");\n\n// EXTERNAL MODULE: ./src/components/contexts/DomContext.jsx + 3 modules\nvar DomContext = __webpack_require__("./src/components/contexts/DomContext.jsx");\n\n// CONCATENATED MODULE: ./src/components/organisms/BlogView.jsx\n\n\n\n\n\n\n\n\n\n\n\nconst BlogView = props => {\n  const {\n    group,\n    images,\n    blogViewURL,\n    incrementNumOfDownloads,\n    putDownload,\n    mode,\n    blogUrl,\n    officialUrl,\n    writer,\n    blogCt,\n    blogTitle,\n    groupID,\n    cookies\n  } = props;\n  const [isCheckAll, setIsCheckAll] = Object(react["useState"])(false);\n  const [checkList, setCheckList] = Object(react["useState"])(Array(images.length).fill(false));\n  const [isShowAlert, setIsShowAlert] = Object(react["useState"])(false);\n  const domDispatch = Object(DomContext["d" /* useDomDispatch */])();\n  const location = Object(react_router_dom["useLocation"])();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (checkList.includes(true)) {\n      let orderList = [];\n\n      for (const [index, val] of checkList.entries()) {\n        if (val) orderList.push(index);\n      }\n\n      axios_default.a.post(blogViewURL, orderList, {\n        headers: {\n          "X-CSRFToken": cookies.get("csrftoken")\n        },\n        responseType: "blob"\n      }).then(res => {\n        domDispatch({\n          type: "OPEN_GLOBAL_MODAL",\n          globalModalId: "ImageDownloadedModal"\n        });\n        setIsCheckAll(false);\n        setCheckList(Array(images.length).fill(false));\n        setIsShowAlert(false);\n        const blob = new Blob([res.data], {\n          type: res.data.type\n        });\n        const fileName = res.headers["content-disposition"].match(/filename="(.*)"/)[1];\n        Object(FileSaver_min["saveAs"])(blob, fileName);\n        incrementNumOfDownloads(-1, orderList.length);\n      });\n    } else {\n      if (!isShowAlert) setIsShowAlert(true);\n    }\n  };\n\n  const handleAllCheckChange = e => {\n    const target = e.target;\n    const value = target.checked;\n    setIsCheckAll(value);\n    setCheckList([...checkList].fill(value));\n  };\n\n  const handleCheckChange = e => {\n    const target = e.target;\n    const value = target.checked;\n    const _checkList = [...checkList];\n    _checkList[target.name] = value;\n    setCheckList(_checkList);\n  };\n\n  const changeCheck = order => {\n    const _checkList = [...checkList];\n    _checkList[order] = !_checkList[order];\n    setCheckList(_checkList);\n  };\n\n  const loadOriginalImage = () => {\n    let imageObjects = [];\n\n    for (const [index, image] of images.entries()) {\n      if (mode === "view") {// view\n      } else if (mode === "download") {\n        imageObjects.push(new Image());\n        imageObjects[index].onload = setTimeout(() => {\n          const blogImageID = geneImageID(image.order);\n          const targetImage = document.getElementById(blogImageID);\n          targetImage.style.backgroundImage = "url(" + imageObjects[index].src + ")";\n        }, env["k" /* DELAY_TIME */]);\n        imageObjects[index].src = image.src["originals"];\n      }\n    }\n  };\n\n  Object(react["useEffect"])(() => {\n    loadOriginalImage();\n  }, []);\n  Object(react["useEffect"])(() => {\n    loadOriginalImage();\n  }, [mode]); // cache導入でimageIDが複数存在しうるため（今のところBlogViewはcache対象外であるが）\n\n  const geneImageID = order => `blog-image-${groupID}_${blogCt}_${order}_${location.key}`;\n\n  if (mode === "view") {\n    const options = {\n      itemSelector: ".grid-item",\n      transitionDuration: 0,\n      stagger: 0\n    };\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "container"\n    }, utils["u" /* isMobile */] && /*#__PURE__*/react_default.a.createElement("div", {\n      className: "alert alert-success mb-1",\n      role: "alert",\n      style: {\n        borderRadius: "1rem",\n        fontSize: 14\n      }\n    }, "\\u753B\\u50CF\\u3092\\u9577\\u62BC\\u3057\\u3057\\u3066\\u4FDD\\u5B58\\u3092\\u304A\\u3053\\u306A\\u3063\\u3066\\u304F\\u3060\\u3055\\u3044"), /*#__PURE__*/react_default.a.createElement(lib_default.a, {\n      options: options,\n      className: "mt-3 image-list-in-blog-view"\n    }, images.map(({\n      src,\n      url,\n      order,\n      isFavorite,\n      width,\n      height\n    }, i) => /*#__PURE__*/react_default.a.createElement("div", {\n      key: order,\n      className: "grid-item col-12 col-sm-6 my-2 my-sm-3 px-0 px-sm-2"\n    }, /*#__PURE__*/react_default.a.createElement(ImageCard["a" /* default */], {\n      groupID: groupID,\n      group: group,\n      blogCt: blogCt,\n      blogTitle: blogTitle,\n      src: src,\n      url: url,\n      blogUrl: blogUrl,\n      officialUrl: officialUrl,\n      writer: writer,\n      imgID: geneImageID(order),\n      order: order,\n      isFavorite: isFavorite,\n      width: width,\n      height: height,\n      shouldLoadOriginal: true,\n      didMountImage: () => {\n        const blogImageID = geneImageID(order);\n        const targetImage = document.getElementById(blogImageID);\n        Object(utils["b" /* addLongPressEventListeners */])(targetImage, () => putDownload(order));\n      }\n    })))));\n  } else if (mode === "download") {\n    return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement("form", {\n      onSubmit: e => handleSubmit(e)\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "col-md-3 col-lg-2 ml-auto",\n      style: {\n        width: 200\n      }\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "custom-control custom-checkbox"\n    }, /*#__PURE__*/react_default.a.createElement("input", {\n      name: "allCheck",\n      type: "checkbox",\n      className: "custom-control-input",\n      id: "allCheck",\n      checked: isCheckAll,\n      onChange: e => handleAllCheckChange(e)\n    }), /*#__PURE__*/react_default.a.createElement("label", {\n      className: "custom-control-label",\n      htmlFor: "allCheck"\n    }, "\\u3059\\u3079\\u3066\\u9078\\u629E"))), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "container my-4"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "row text-center"\n    }, images.map((image, index) => /*#__PURE__*/react_default.a.createElement("div", {\n      key: index,\n      className: "col-6 col-md-4 col-xl-3 mb-5"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      style: {\n        cursor: "pointer"\n      },\n      onClick: () => changeCheck(image.order)\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: group\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "thumbnail img-thumbnail mx-auto " + (checkList[image.order] ? "checked" : "") // id={`image_${image.order}`}\n      ,\n      id: geneImageID(image.order),\n      style: {\n        background: `-webkit-image-set( url(${image.src["250x"]}) 1x, url(${image.src["500x"]}) 2x )`,\n        backgroundSize: "cover",\n        backgroundPosition: "center"\n      }\n    }, /*#__PURE__*/react_default.a.createElement("input", {\n      className: "save_img_checkbox",\n      type: "checkbox",\n      onChange: e => handleCheckChange(e),\n      name: image.order,\n      checked: checkList[image.order]\n    })))))))), isShowAlert && /*#__PURE__*/react_default.a.createElement("div", {\n      className: "alert alert-danger py-2 mb-5 mt-0",\n      role: "alert",\n      style: {\n        borderRadius: "1rem"\n      }\n    }, "\\u753B\\u50CF\\u3092\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002"), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "mx-auto mb-5",\n      style: {\n        width: 150\n      }\n    }, /*#__PURE__*/react_default.a.createElement("button", {\n      type: "submit",\n      className: "gradient-btn " + group,\n      style: {\n        width: 150\n      }\n    }, /*#__PURE__*/react_default.a.createElement("b", null, "\\u4FDD\\u5B58")))));\n  }\n};\n\n/* harmony default export */ var organisms_BlogView = (Object(es6["b" /* withCookies */])(BlogView));\n// EXTERNAL MODULE: ./src/components/molecules/Loader.jsx\nvar Loader = __webpack_require__("./src/components/molecules/Loader.jsx");\n\n// EXTERNAL MODULE: ./src/components/atoms/NotFound.jsx\nvar NotFound = __webpack_require__("./src/components/atoms/NotFound.jsx");\n\n// EXTERNAL MODULE: ./src/components/molecules/info/BlogSearchListInfo.jsx\nvar BlogSearchListInfo = __webpack_require__("./src/components/molecules/info/BlogSearchListInfo.jsx");\n\n// EXTERNAL MODULE: ./src/components/atoms/AdSense.jsx\nvar AdSense = __webpack_require__("./src/components/atoms/AdSense.jsx");\n\n// EXTERNAL MODULE: ./src/components/templates/ViewTemplate.jsx\nvar ViewTemplate = __webpack_require__("./src/components/templates/ViewTemplate.jsx");\n\n// EXTERNAL MODULE: ./src/components/contexts/AuthContext.jsx\nvar AuthContext = __webpack_require__("./src/components/contexts/AuthContext.jsx");\n\n// CONCATENATED MODULE: ./src/components/templates/BlogViewTemplate.jsx\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass BlogViewTemplate_BlogViewTemplate extends ViewTemplate["a" /* default */] {\n  constructor(props) {\n    super(props);\n\n    this.changeMode = mode => {\n      if (mode !== this.state.mode) {\n        if (mode === "view" || mode === "download") this.setState({\n          mode: mode\n        });else this.setState({\n          mode: ""\n        });\n      }\n    };\n\n    this.isRender = Object(utils["d" /* checkMatchParams */])(props.history, props.match.params.groupID, props.match.params.blogCt);\n    this.initBlogState = {\n      mode: "view" // "view" or "download"\n\n    };\n    this.state = Object.assign(this.initState, this.initBlogState);\n  }\n\n  putView() {\n    axios_default.a.put(this.blogViewURL, {\n      action: "view",\n      key: this.state.VIEW_KEY\n    }, {\n      headers: {\n        "X-CSRFToken": this.props.cookies.get("csrftoken")\n      }\n    }).then(res => {\n      if (res.data["status"] == "success") {\n        this.incrementNumOfViews();\n      }\n    });\n  }\n\n  putDownload(order) {\n    axios_default.a.put(Object(utils["a" /* URLJoin */])(env["d" /* BASE_URL */], "image/", this.state.groupID, this.state.blogCt, order.toString()), {\n      action: "download",\n      key: this.state.DOWNLOAD_KEY\n    }, {\n      headers: {\n        "X-CSRFToken": this.props.cookies.get("csrftoken")\n      }\n    }).then(res => {\n      if (res.data["status"] == "success") {\n        this.incrementNumOfDownloads();\n      }\n    });\n  }\n\n  updateMetaVerView(status, blogTitle, blogWriter) {\n    if (this.isRender) {\n      if (status === "success") {\n        Object(utils["H" /* updateMeta */])({\n          title: `${blogTitle}(${blogWriter})｜ブログ詳細`,\n          description: `${blogWriter}のブログ「${blogTitle}」です。`\n        });\n      } else if (status === "get_image_failed") {\n        Object(utils["H" /* updateMeta */])({\n          title: "Not Found Image",\n          description: ""\n        });\n      } else if (status === "blog_not_found") {\n        Object(utils["H" /* updateMeta */])({\n          title: "Not Found Blog",\n          description: ""\n        });\n      } else if (status === "accepted") {\n        Object(utils["H" /* updateMeta */])({\n          title: "画像取得中",\n          description: ""\n        });\n      }\n    }\n  }\n\n  componentDidMount() {\n    if (this.isRender) {\n      super.componentDidMount();\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // blog が view されたとき\n    if (prevState.status !== this.state.status && this.state.status === "success") {\n      if (this.state.VIEW_KEY) {\n        const blogID = `${this.state.groupID}_${this.state.blogCt}_${this.props.location.key}`;\n\n        if (!this.props.domState.accessedBlogs.includes(blogID)) {\n          this.putView();\n          this.props.domDispatch({\n            type: "ACCESS_TO_BLOG",\n            blogID: blogID\n          });\n        }\n      }\n    }\n\n    const groupID = this.props.match.params.groupID;\n    const prevGroupID = prevProps.match.params.groupID;\n    const blogCt = this.props.match.params.blogCt;\n    const prevBlogCt = prevProps.match.params.blogCt; // When the blog changed\n\n    if (prevGroupID !== groupID || prevBlogCt !== blogCt) {\n      this.initBlogState = {\n        mode: "view",\n        groupID: groupID,\n        blogCt: blogCt,\n        group: Object(utils["o" /* getGroup */])(groupID)\n      };\n      this.setState(Object.assign(this.initState, this.initBlogState));\n      this.blogViewURL = Object(utils["a" /* URLJoin */])(env["d" /* BASE_URL */], "blog/", groupID, blogCt);\n      this.getBlog();\n    } // accepted\n\n\n    super.componentDidUpdate(prevProps, prevState);\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount();\n    this.isRender = false;\n  }\n\n  render() {\n    let contents;\n\n    if (this.state.status === "") {\n      contents = /*#__PURE__*/react_default.a.createElement(Loader["c" /* LoaderScreen */], {\n        type: "horizontal"\n      });\n    } else if (this.state.status === "success") {\n      if (this.state.images.length > 0) {\n        contents = /*#__PURE__*/react_default.a.createElement(organisms_BlogView, {\n          group: this.state.group,\n          images: this.state.images,\n          blogViewURL: this.blogViewURL,\n          incrementNumOfDownloads: (order, num) => this.incrementNumOfDownloads(order, num),\n          putDownload: order => this.putDownload(order),\n          mode: this.state.mode,\n          blogUrl: this.state.url,\n          officialUrl: this.state.officialUrl,\n          writer: this.state.writer,\n          blogCt: this.state.blogCt,\n          blogTitle: this.state.title,\n          groupID: this.state.groupID\n        });\n      } else {\n        contents = /*#__PURE__*/react_default.a.createElement(NotFound["c" /* NotFoundMessage */], {\n          type: "image",\n          margin: true\n        });\n      }\n    } else if (this.state.status === "accepted") {\n      contents = /*#__PURE__*/react_default.a.createElement(Loader["a" /* BlogViewLoader */], {\n        progress: this.state.progress,\n        loadingImageUrl: env["q" /* LOAD_IMG_URL */]\n      });\n    } else if (this.state.status === "blog_not_found" || this.state.status === "get_image_failed") {\n      contents = /*#__PURE__*/react_default.a.createElement(NotFound["c" /* NotFoundMessage */], {\n        type: "blogFailed",\n        margin: true\n      });\n    }\n\n    return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, this.isRender && /*#__PURE__*/react_default.a.createElement("div", {\n      className: "container mt-3 text-muted"\n    }, /*#__PURE__*/react_default.a.createElement(Headline["a" /* default */], {\n      title: "\\u30D6\\u30ED\\u30B0\\u8A73\\u7D30",\n      type: "blogView",\n      mode: this.state.mode,\n      changeMode: mode => this.changeMode(mode)\n    }), this.state.status !== "blog_not_found" ? /*#__PURE__*/react_default.a.createElement(info_BlogViewInfo, {\n      group: this.state.group,\n      title: this.state.title,\n      writer: this.state.writer,\n      postDate: this.state.postDate,\n      officialUrl: this.state.officialUrl,\n      numOfViews: this.state.numOfViews,\n      numOfDownloads: this.state.numOfDownloads\n    }) : /*#__PURE__*/react_default.a.createElement(BlogSearchListInfo["a" /* default */], {\n      group: this.state.group,\n      title: this.state.title,\n      numOfHit: 0\n    }), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "container mt-4"\n    }, utils["w" /* isSmp */] ? /*#__PURE__*/react_default.a.createElement(AdSense["b" /* SquareAds */], null) : /*#__PURE__*/react_default.a.createElement(AdSense["a" /* LandscapeAds */], {\n      height: "100px"\n    })), contents));\n  }\n\n}\n\n/* harmony default export */ var templates_BlogViewTemplate = __webpack_exports__["default"] = (Object(react_router_dom["withRouter"])(Object(es6["b" /* withCookies */])(props => /*#__PURE__*/react_default.a.createElement(DomContext["b" /* DomStateContext */].Consumer, null, domState => /*#__PURE__*/react_default.a.createElement(DomContext["a" /* DomDispatchContext */].Consumer, null, domDispatch => /*#__PURE__*/react_default.a.createElement(AuthContext["a" /* AuthStateContext */].Consumer, null, authState => /*#__PURE__*/react_default.a.createElement(BlogViewTemplate_BlogViewTemplate, _extends({}, props, {\n  domState: domState,\n  domDispatch: domDispatch,\n  authState: authState\n}))))))));\n\n//# sourceURL=webpack:///./src/components/templates/BlogViewTemplate.jsx_+_2_modules?')}}]);