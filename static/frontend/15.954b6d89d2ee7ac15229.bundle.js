(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"./src/components/templates/ImageViewTemplate.jsx":function(e,t,a){"use strict";a.r(t),a.d(t,"getImageViewUrlComposition",(function(){return b}));var o=a("./node_modules/react/index.js"),s=a.n(o),r=a("./src/components/modules/utils.js"),n=a("./src/components/modules/env.js"),m=a("./src/components/organisms/ImageView.jsx"),c=a("./src/components/organisms/List/ImageList.jsx"),l=a("./src/components/atoms/BackButton.jsx"),i=a("./src/components/molecules/Headline.jsx"),p=a("./node_modules/react-router-dom/esm/react-router-dom.js"),u=a("./src/components/atoms/AdSense.jsx"),d=a("./src/components/contexts/DomContext.jsx"),g=a("./src/components/contexts/AuthContext.jsx");class h extends s.a.Component{constructor(e){super(e);const t=e.match.params.groupID,a=e.match.params.blogCt,o=e.match.params.order;this.isRender=Object(r.d)(e.history,t,a,o),this.state={group:Object(r.o)(t),groupID:t,blogCt:a,order:Number(o),imageViewURL:Object(r.a)(n.d,"image/",t,a,o),blogViewURL:Object(r.a)(n.d,"blog/",t,a)}}componentDidUpdate(e){if(Object(r.e)(this.props)){const{groupID:t,blogCt:a,order:o}=b(this.props),s=b(e),m=s.groupID,c=s.blogCt,l=s.order;if(m!==t||c!==a||l!==o)return void this.setState({group:Object(r.o)(t),groupID:t,blogCt:a,order:Number(o),imageViewURL:Object(r.a)(n.d,"image/",t,a,o),blogViewURL:Object(r.a)(n.d,"blog/",t,a)})}}render(){const e=void 0===this.props.location.state?null:this.props.location.state.prevSrc;return s.a.createElement(s.a.Fragment,null,this.isRender&&s.a.createElement(s.a.Fragment,null,r.u&&s.a.createElement(i.a,{title:"画像詳細"}),!r.u&&s.a.createElement(l.a,{fixed:!0,className:"in-image-view"}),s.a.createElement(d.b.Consumer,null,t=>s.a.createElement(d.a.Consumer,null,a=>s.a.createElement(g.a.Consumer,null,o=>s.a.createElement(m.a,{group:this.state.group,groupID:this.state.groupID,blogCt:this.state.blogCt,order:this.state.order,imageViewURL:this.state.imageViewURL,blogViewURL:this.state.blogViewURL,prevSrc:e,domState:t,domDispatch:a,authState:o})))),s.a.createElement("div",{className:"container mt-4"},r.w?s.a.createElement(u.b,null):s.a.createElement(u.a,{height:"100px"})),s.a.createElement("div",{className:"container-fluid text-muted mt-3 list-container-fluid"},s.a.createElement(c.b,{type:"RELATED_IMAGES",topComponent:s.a.createElement("h3",{className:"text-center related-image-title "+(r.w?"mt-2":"")},"関連画像")}))))}}t.default=Object(p.withRouter)(h);const b=e=>({groupID:e.match.params?e.match.params.groupID:null,blogCt:e.match.params?e.match.params.blogCt:null,order:e.match.params?e.match.params.order:null})}}]);