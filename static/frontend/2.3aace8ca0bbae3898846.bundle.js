(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./node_modules/file-saver/dist/FileSaver.min.js":
/*!*******************************************************!*\
  !*** ./node_modules/file-saver/dist/FileSaver.min.js ***!
  \*******************************************************/
/*! no static exports found */
/*! exports used: saveAs */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(a,b){if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (b),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {}})(this,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=typeof b&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob(["\\uFEFF",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open("GET",b),e.responseType="blob",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error("could not download file")},e.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open("","_blank"),e&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof a)return c(a,b,d);var g="application/octet-stream"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&"object"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a, true&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))\n\n//# sourceURL=webpack:///./node_modules/file-saver/dist/FileSaver.min.js?')},"./src/components/atoms/DownloadButton.jsx":
/*!*************************************************!*\
  !*** ./src/components/atoms/DownloadButton.jsx ***!
  \*************************************************/
/*! exports provided: default */
/*! exports used: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var reactstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! reactstrap */ "./node_modules/reactstrap/es/index.js");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ "./node_modules/@fortawesome/react-fontawesome/index.es.js");\n/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ "./node_modules/@fortawesome/free-solid-svg-icons/index.es.js");\n/* harmony import */ var _constants_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ~/constants/env */ "./src/constants/env.js");\n\n\n\n\n\n\nconst DownloadButton = props => {\n  var _GROUPS$groupId;\n\n  const {\n    onClick,\n    groupId,\n    className\n  } = props;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[/* Button */ "a"], {\n    className: `rounded-circle p-0 ${className ? className : ""}`,\n    title: "\\u3053\\u306E\\u753B\\u50CF\\u3092\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\\u3059\\u308B",\n    onClick: onClick\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__[/* FontAwesomeIcon */ "a"], {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faDownload */ "l"],\n    color: (_GROUPS$groupId = _constants_env__WEBPACK_IMPORTED_MODULE_4__[/* GROUPS */ "m"][groupId]) !== null && _GROUPS$groupId !== void 0 && _GROUPS$groupId.deepColor ? _constants_env__WEBPACK_IMPORTED_MODULE_4__[/* GROUPS */ "m"][groupId].deepColor : "gray",\n    style: {\n      fontSize: 21\n    },\n    className: "download-button-shadow-svg"\n  }));\n};\n\n/* harmony default export */ __webpack_exports__["a"] = (DownloadButton);\n\n//# sourceURL=webpack:///./src/components/atoms/DownloadButton.jsx?')},"./src/components/atoms/FavoriteButton.jsx":
/*!*************************************************!*\
  !*** ./src/components/atoms/FavoriteButton.jsx ***!
  \*************************************************/
/*! exports provided: useFavoriteButton, default */
/*! exports used: default, useFavoriteButton */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return useFavoriteButton; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var reactstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! reactstrap */ "./node_modules/reactstrap/es/index.js");\n/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lottie-web */ "./node_modules/lottie-web/build/player/lottie.js");\n/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lottie_web__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ~/utils */ "./src/utils/index.js");\n/* harmony import */ var _constants_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ~/constants/env */ "./src/constants/env.js");\n/* harmony import */ var _hooks_useAxios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ~/hooks/useAxios */ "./src/hooks/useAxios.js");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ~/contexts/AuthContext */ "./src/contexts/AuthContext.jsx");\n/* harmony import */ var _contexts_DomContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ~/contexts/DomContext */ "./src/contexts/DomContext.jsx");\n/* harmony import */ var _hooks_useCacheRoute__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ~/hooks/useCacheRoute */ "./src/hooks/useCacheRoute.js");\n\n\n\n\n\n\n\n\n\nconst useFavoriteButton = (groupId, blogCt, order, setIsFavorite, isFavorite, csrftoken, endWorkDropdownMenuMobile // optional\n) => {\n  const [lottieName] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(Object(_utils__WEBPACK_IMPORTED_MODULE_3__[/* generateUuid4 */ "k"])()); // 同じ画像であっても一意な値をつけたいためuuid\n\n  const authState = Object(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_6__[/* useAuthState */ "c"])();\n  const domDispatch = Object(_contexts_DomContext__WEBPACK_IMPORTED_MODULE_7__[/* useDomDispatch */ "c"])();\n  const {\n    cacheRoute\n  } = Object(_hooks_useCacheRoute__WEBPACK_IMPORTED_MODULE_8__[/* useCacheRoute */ "a"])();\n  const isAnimating = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(false);\n  const url = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[/* URLJoin */ "a"])(_constants_env__WEBPACK_IMPORTED_MODULE_4__[/* BASE_URL */ "b"], "favorites/", groupId, blogCt, order);\n  const {\n    request: requestPutFavorite\n  } = Object(_hooks_useAxios__WEBPACK_IMPORTED_MODULE_5__[/* useAxios */ "c"])(url, "put", {\n    thenCallback: () => {\n      setIsFavorite(true);\n    },\n    catchCallback: err => {\n      setIsFavorite(false);\n\n      if (err.response.status === 409 && err.response.data.status === "exceed_max_num") {\n        goToAndStopNotFavorite(lottieName);\n        endWorkDropdownMenuMobile && endWorkDropdownMenuMobile();\n        domDispatch({\n          type: "OPEN_GLOBAL_MODAL",\n          globalModalId: "ExceedMaxFavoriteModal"\n        });\n      }\n\n      if (err.response.status === 401) {\n        // 未サインアップ・実際はリクエスト以前でcatchされるため呼ばれない\n        setIsFavorite(false);\n        goToAndStopNotFavorite(lottieName);\n        endWorkDropdownMenuMobile && endWorkDropdownMenuMobile();\n        domDispatch({\n          type: "OPEN_GLOBAL_MODAL",\n          globalModalId: "SignUpBeforeFavoriteModal"\n        });\n      }\n    },\n    token: authState.token,\n    csrftoken: csrftoken\n  });\n  const {\n    request: requestDeleteFavorite\n  } = Object(_hooks_useAxios__WEBPACK_IMPORTED_MODULE_5__[/* useAxios */ "c"])(url, "delete", {\n    thenCallback: () => {\n      setIsFavorite(false);\n    },\n    catchCallback: () => {\n      setIsFavorite(true);\n    },\n    token: authState.token,\n    csrftoken: csrftoken\n  });\n\n  const goToAndStopIsFavorite = _lottieName => {\n    lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.goToAndStop(1000, true, _lottieName);\n  };\n\n  const goToAndStopNotFavorite = _lottieName => {\n    lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.goToAndStop(0, true, _lottieName);\n  }; // didMount・画面遷移時、またはisFavoriteが変化した時にデザイン適用\n\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    if (!cacheRoute) {\n      // アニメーションを中断してデザイン変更してしまうのを防ぐ\n      if (isFavorite) {\n        if (!isAnimating.current) {\n          goToAndStopIsFavorite(lottieName);\n        }\n      } else {\n        goToAndStopNotFavorite(lottieName);\n      }\n    }\n  }, [isFavorite, cacheRoute]);\n\n  const onClickFavoriteButton = () => {\n    // マイフォルダに追加\n    if (!isFavorite) {\n      lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.play(lottieName); // 1秒間isAnimatingをtrueにして、アニメーション中断を防ぐ\n\n      isAnimating.current = true;\n      setTimeout(() => {\n        isAnimating.current = false;\n      }, 1000);\n      requestPutFavorite();\n    } // マイフォルダから取り出す\n    else {\n        requestDeleteFavorite();\n      }\n  };\n\n  return [onClickFavoriteButton, lottieName];\n};\n/**\n * propsのisShowMenu, cardHeightがundefinedの場合、image viewに切り替わる。\n */\n\nconst FavoriteButton = (props, ref) => {\n  const {\n    isFavorite,\n    groupKey,\n    lottieName,\n    isShowMenu,\n    cardHeight,\n    type,\n    onClickFavoriteButton\n  } = props;\n  const animationContainerRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null); // Init lottie\n\n  let bookmarkAnimationData;\n  Object.values(_constants_env__WEBPACK_IMPORTED_MODULE_4__[/* GROUPS */ "m"]).forEach(groupObj => {\n    if (groupObj.key === groupKey) bookmarkAnimationData = groupObj.bookmarkAnimationData;\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    if (animationContainerRef.current) {\n      lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.loadAnimation({\n        container: animationContainerRef.current,\n        animationData: bookmarkAnimationData,\n        loop: false,\n        autoplay: false,\n        name: lottieName\n      });\n      lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.setSpeed(1.8, lottieName);\n      if (isFavorite) lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.goToAndStop(1000, true, lottieName);\n    }\n  }, []);\n  const title = isFavorite ? "マイフォルダから削除する" : "マイフォルダに追加する"; // image card(mobile)のmenu\n\n  if (type === "image-card-detail-menu") {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[/* Button */ "a"], {\n      className: `px-0 d-flex flex-row align-items-center image-card-detail-menu-favorite-button text-muted`,\n      title: title,\n      onClick: onClickFavoriteButton\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n      ref: animationContainerRef,\n      className: `ml-1 mr-3 mb-0 ${isFavorite ? "lottie-favorite-shadow lottie-favorite-image-view image-card-detail-menu-favorite" : "lottie-favorite-image-view-deactive image-card-detail-menu-favorite"}`\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, title));\n  } // image view\n  else if (type === "image-view") {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[/* Button */ "a"], {\n        className: `rounded-circle p-0 image-view-favorite-button ${_utils__WEBPACK_IMPORTED_MODULE_3__[/* isMobile */ "r"] ? "mobile" : ""}`,\n        title: title,\n        onClick: onClickFavoriteButton\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n        ref: animationContainerRef,\n        className: `${isFavorite ? "lottie-favorite-shadow lottie-favorite-image-view" : "lottie-favorite-image-view-deactive"}`\n      }));\n    } // image card\n    else if (type === "image-card") {\n        // 画像ロード後に表示。また、menuが非表示でもお気に入り登録されていればアイコンのみ表示される。\n        const isShowFavoriteButton = cardHeight > 0 && (isFavorite || isShowMenu);\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[/* Button */ "a"], {\n          className: `rounded-circle p-0 ${_utils__WEBPACK_IMPORTED_MODULE_3__[/* isSmp */ "t"] ? "smp" : ""} ${isShowMenu ? "image-card-favorite-button" : "image-card-favorite-button-transparent"}`,\n          title: title,\n          onClick: onClickFavoriteButton,\n          style: {\n            display: isShowFavoriteButton ? "block" : "none"\n          }\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n          ref: animationContainerRef,\n          className: `${isFavorite ? "lottie-favorite-shadow lottie-favorite" : "lottie-favorite-deactive"}`\n        }));\n      }\n};\n\n/* harmony default export */ __webpack_exports__["a"] = (/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(FavoriteButton));\n\n//# sourceURL=webpack:///./src/components/atoms/FavoriteButton.jsx?')},"./src/components/molecules/ImageCard.jsx":
/*!************************************************!*\
  !*** ./src/components/molecules/ImageCard.jsx ***!
  \************************************************/
/*! exports provided: default */
/*! exports used: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ "./node_modules/@fortawesome/react-fontawesome/index.es.js");\n/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ "./node_modules/@fortawesome/free-solid-svg-icons/index.es.js");\n/* harmony import */ var react_cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-cookie */ "./node_modules/react-cookie/es6/index.js");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ~/utils */ "./src/utils/index.js");\n/* harmony import */ var _components_organisms_ImageView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ~/components/organisms/ImageView */ "./src/components/organisms/ImageView.jsx");\n/* harmony import */ var _constants_env__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ~/constants/env */ "./src/constants/env.js");\n/* harmony import */ var _components_atoms_FavoriteButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ~/components/atoms/FavoriteButton */ "./src/components/atoms/FavoriteButton.jsx");\n/* harmony import */ var _contexts_DomContext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ~/contexts/DomContext */ "./src/contexts/DomContext.jsx");\n/* harmony import */ var _components_atoms_DownloadButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ~/components/atoms/DownloadButton */ "./src/components/atoms/DownloadButton.jsx");\n/* harmony import */ var _components_molecules_DropdownMobileFriendly__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ~/components/molecules/DropdownMobileFriendly */ "./src/components/molecules/DropdownMobileFriendly.jsx");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst ToBlogButton = props => {\n  const {\n    title,\n    url\n  } = props;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, title !== "" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {\n    to: url,\n    className: "btn btn-primary rounded-pill image-to-blog-button image-card-button text-left d-flex align-items-center",\n    role: "button",\n    title: `「${title}」を確認`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h6", {\n    className: "omit-title m-0",\n    style: {\n      fontSize: 14\n    }\n  }, title)));\n};\n\nconst ImageCard = props => {\n  const {\n    urlPath,\n    srcCollection,\n    imageId,\n    initIsFavorite,\n    cookies,\n    shouldPreload = true,\n    shouldLoadOriginal = false,\n    // 250x・500xをpreload後にoriginalをloadする(blogView等).\n    didMountImage = () => void 0,\n    width,\n    height,\n    orderly,\n    groupKey,\n    groupId,\n    blogCt,\n    order,\n    writer,\n    priorityImageId,\n    blogUrl,\n    blogTitle,\n    officialUrl,\n    footerMessage,\n    isFavorite\n  } = props;\n  const domDispatch = Object(_contexts_DomContext__WEBPACK_IMPORTED_MODULE_9__[/* useDomDispatch */ "c"])();\n  const [isShowHoverMenu, setIsShowHoverMenu] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);\n  const [cardHeight, setCardHeight] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0);\n  const [isLoadedImage, setIsLoadedImage] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);\n  const [actuallySrc, setActuallySrc] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(_utils__WEBPACK_IMPORTED_MODULE_5__[/* isSmp */ "t"] ? srcCollection["250x"] : "");\n  const [actuallySrcset, setActuallySrcset] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(!_utils__WEBPACK_IMPORTED_MODULE_5__[/* isSmp */ "t"] ? `${srcCollection["250x"]} 1x, ${srcCollection["500x"]} 2x` : ""); // 本来DropdownMobileFriendlyで管理しているが、ImageCard(親コンポーネント)でも管理したいため\n\n  const [isOpenDropdownMenu, setIsOpenDropdownMenu] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);\n  const imageCardRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);\n  const isHover = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(false);\n  const [{\n    setIsFavorite\n  }] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(Object(_utils__WEBPACK_IMPORTED_MODULE_5__[/* geneIsFavoriteGetterSetter */ "h"])({}, domDispatch, imageId));\n  const [csrftoken] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(cookies.get("csrftoken"));\n  const dropdownMenuMobile = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(null);\n\n  const endWorkDropdownMenuMobile = () => {\n    dropdownMenuMobile.current && dropdownMenuMobile.current.endWork();\n  };\n\n  const [onClickFavoriteButton, lottieName] = Object(_components_atoms_FavoriteButton__WEBPACK_IMPORTED_MODULE_8__[/* useFavoriteButton */ "b"])(groupId, blogCt, order, setIsFavorite, isFavorite, csrftoken, _utils__WEBPACK_IMPORTED_MODULE_5__[/* isMobile */ "r"] ? endWorkDropdownMenuMobile : void 0);\n\n  const onMouseEnterOrLeave = isEnter => {\n    if (!_utils__WEBPACK_IMPORTED_MODULE_5__[/* isMobile */ "r"]) {\n      if (isEnter && !isHover.current) {\n        setIsShowHoverMenu(true);\n      } else if (!isEnter && isHover.current) {\n        if (!isOpenDropdownMenu) {\n          setIsShowHoverMenu(false);\n        }\n      }\n    }\n\n    isHover.current = isEnter;\n  };\n\n  const hideMenu = () => {\n    if (!isHover.current) {\n      setIsShowHoverMenu(false);\n    }\n  };\n\n  const updateCardHeight = () => {\n    if (imageCardRef.current && Number.isFinite(imageCardRef.current.clientHeight) && imageCardRef.current.clientHeight > cardHeight) {\n      setCardHeight(imageCardRef.current.clientHeight);\n    }\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    updateCardHeight(); // init isFavorite\n\n    if (isFavorite !== initIsFavorite) domDispatch({\n      type: "INIT_FAVORITE",\n      imageID: imageId,\n      isFavorite: initIsFavorite\n    }); // preload image\n\n    if (shouldPreload) {\n      const imageObject = new Image();\n\n      imageObject.onload = () => {\n        setIsLoadedImage(true);\n\n        if (shouldLoadOriginal) {\n          setActuallySrc(srcCollection["originals"]);\n          setActuallySrcset("");\n        }\n      };\n\n      imageObject.src = actuallySrc;\n      imageObject.srcset = actuallySrcset;\n    }\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    if (isLoadedImage) {\n      didMountImage && didMountImage();\n    }\n  }, [isLoadedImage]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    updateCardHeight();\n  });\n  const isShowMenu = isShowHoverMenu && !_utils__WEBPACK_IMPORTED_MODULE_5__[/* isMobile */ "r"];\n  const isEnoughHighMenu = cardHeight > 100;\n  const formatWidth = Number.isFinite(width) && width > 0 ? width : 250;\n  const formatHeight = Number.isFinite(height) && height > 0 ? height : 250;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: "image-card",\n    onMouseEnter: () => {\n      onMouseEnterOrLeave(true);\n    },\n    onMouseLeave: () => {\n      onMouseEnterOrLeave(false);\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {\n    to: {\n      pathname: urlPath,\n      state: {\n        prevSrc: srcCollection\n      }\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: "image-card-wrapper " + (!_utils__WEBPACK_IMPORTED_MODULE_5__[/* isMobile */ "r"] ? "pc" : "")\n  }, !shouldPreload || isLoadedImage ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    ref: _imageCardRef => imageCardRef.current = _imageCardRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {\n    width: formatWidth,\n    height: formatHeight,\n    className: `image-card-img ${orderly ? "newpost-thumbnail" : ""}`,\n    src: actuallySrc,\n    srcSet: actuallySrcset,\n    alt: Object(_utils__WEBPACK_IMPORTED_MODULE_5__[/* generateAlt */ "i"])(groupKey, writer.name),\n    id: priorityImageId || imageId\n  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: "image-card-preload-img-wrapper loading-background"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: `image-card-preload-img`,\n    style: {\n      paddingTop: `${formatHeight / formatWidth * 100}%`\n    }\n  })))), isLoadedImage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_atoms_FavoriteButton__WEBPACK_IMPORTED_MODULE_8__[/* default */ "a"], {\n    groupKey: groupKey,\n    lottieName: lottieName,\n    isFavorite: isFavorite,\n    isShowMenu: isShowMenu,\n    cardHeight: cardHeight,\n    type: "image-card",\n    onClickFavoriteButton: onClickFavoriteButton\n  }), isShowMenu && isEnoughHighMenu && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_atoms_DownloadButton__WEBPACK_IMPORTED_MODULE_10__[/* default */ "a"], {\n    className: "image-card-download-button-ver2",\n    groupId: groupId,\n    onClick: () => {\n      Object(_components_organisms_ImageView__WEBPACK_IMPORTED_MODULE_6__[/* downloadImage */ "b"])(Object(_utils__WEBPACK_IMPORTED_MODULE_5__[/* URLJoin */ "a"])(_constants_env__WEBPACK_IMPORTED_MODULE_7__[/* BASE_URL */ "b"], urlPath), csrftoken);\n    }\n  }), isShowMenu && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ToBlogButton, {\n    url: blogUrl,\n    title: blogTitle\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_molecules_DropdownMobileFriendly__WEBPACK_IMPORTED_MODULE_11__[/* default */ "a"], {\n    id: `image-card-detail-button-${imageId}`,\n    buttonClass: "p-0 image-card-detail-button image-card-button rounded-circle",\n    buttonContainerClass: "image-card-detail-button-super text-center",\n    onToggleWork: prevIsOpen => {\n      if (prevIsOpen) {\n        hideMenu();\n      }\n\n      setIsOpenDropdownMenu(!prevIsOpen);\n    },\n    menuSettings: [{\n      type: "ONCLICK",\n      label: "この画像をダウンロードする",\n      onClick: () => {\n        Object(_components_organisms_ImageView__WEBPACK_IMPORTED_MODULE_6__[/* downloadImage */ "b"])(Object(_utils__WEBPACK_IMPORTED_MODULE_5__[/* URLJoin */ "a"])(_constants_env__WEBPACK_IMPORTED_MODULE_7__[/* BASE_URL */ "b"], urlPath), csrftoken);\n      },\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faDownload */ "l"]\n    }, {\n      type: "ANCHOR",\n      href: officialUrl,\n      targetBlank: true,\n      label: "公式ブログで確認",\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faExternalLinkAlt */ "p"]\n    }, {\n      type: "LINK",\n      pathname: writer.url["images"],\n      label: `「${writer.name}」の画像を探す`,\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faImages */ "v"]\n    }, {\n      type: "LINK",\n      pathname: writer.url["blogs"],\n      label: `「${writer.name}」のブログを探す`,\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faNewspaper */ "x"]\n    }]\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__[/* FontAwesomeIcon */ "a"], {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faBars */ "c"]\n  }))))), (footerMessage || _utils__WEBPACK_IMPORTED_MODULE_5__[/* isMobile */ "r"]) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: "image-card-footer"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: "image-card-message " + (_utils__WEBPACK_IMPORTED_MODULE_5__[/* isMobile */ "r"] ? "mobile" : "")\n  }, footerMessage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {\n    to: {\n      pathname: urlPath,\n      state: {\n        prevSrc: srcCollection\n      }\n    },\n    onMouseEnter: () => {\n      onMouseEnterOrLeave(true);\n    },\n    onMouseLeave: () => {\n      onMouseEnterOrLeave(false);\n    },\n    style: {\n      textDecoration: "none"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {\n    className: `card-message mx-auto py-2 ${!_utils__WEBPACK_IMPORTED_MODULE_5__[/* isMobile */ "r"] ? "pc" : ""}`\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__[/* FontAwesomeIcon */ "a"], {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faCrown */ "k"],\n    style: {\n      color: "gold"\n    }\n  }), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, footerMessage)))), _utils__WEBPACK_IMPORTED_MODULE_5__[/* isMobile */ "r"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_molecules_DropdownMobileFriendly__WEBPACK_IMPORTED_MODULE_11__[/* default */ "a"], {\n    ref: dropdownMenuMobile,\n    id: `image-card-detail-button-mobile-${imageId}`,\n    buttonClass: "rounded-circle transparent-button-mobile ml-auto",\n    menuSettings: [{\n      type: "TITLE",\n      label: `${blogTitle}（${writer.name}）`\n    }, {\n      type: "CUSTOM_ONLY_MOBILE",\n      menuComponent: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_atoms_FavoriteButton__WEBPACK_IMPORTED_MODULE_8__[/* default */ "a"], {\n        type: "image-card-detail-menu",\n        groupKey: groupKey,\n        lottieName: lottieName,\n        isFavorite: isFavorite,\n        onClickFavoriteButton: onClickFavoriteButton\n      })\n    }, {\n      type: "LINK",\n      pathname: urlPath,\n      state: {\n        prevSrc: srcCollection\n      },\n      label: "詳細ページへ",\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faChevronCircleRight */ "f"]\n    }, {\n      type: "ANCHOR",\n      href: officialUrl,\n      targetBlank: true,\n      label: "公式ブログで確認",\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faExternalLinkAlt */ "p"]\n    }, {\n      type: "LINK",\n      pathname: writer.url["images"],\n      label: `「${writer.name}」の画像を探す`,\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faImages */ "v"]\n    }, {\n      type: "LINK",\n      pathname: writer.url["blogs"],\n      label: `「${writer.name}」のブログを探す`,\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faNewspaper */ "x"]\n    }]\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__[/* FontAwesomeIcon */ "a"], {\n    icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_3__[/* faEllipsisH */ "m"]\n  }))));\n}; // 1ページに数百単位でレンダリングされるコンポーネントのため、\n// ImageCardのprops・stateに変更があったときのみ再レンダー(memo)\n\n\nconst geneImageCardDom = () => {\n  const ImageCardMemo = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Object(react_cookie__WEBPACK_IMPORTED_MODULE_4__[/* withCookies */ "a"])(ImageCard));\n\n  const _ImageCard = props => {\n    const {\n      groupId,\n      blogCt,\n      order\n    } = props;\n    const imageId = `${groupId}-${blogCt}-${order}`;\n    const domState = Object(_contexts_DomContext__WEBPACK_IMPORTED_MODULE_9__[/* useDomState */ "d"])();\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ImageCardMemo, _extends({}, props, {\n      orderly: false,\n      imageId: imageId,\n      isFavorite: domState.favoriteState[imageId]\n    }));\n  };\n\n  return _ImageCard;\n};\n\n/* harmony default export */ __webpack_exports__["a"] = (geneImageCardDom());\n\n//# sourceURL=webpack:///./src/components/molecules/ImageCard.jsx?')},"./src/components/organisms/ImageView.jsx":
/*!************************************************************!*\
  !*** ./src/components/organisms/ImageView.jsx + 1 modules ***!
  \************************************************************/
/*! exports provided: downloadImage, default */
/*! exports used: default, downloadImage */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/@fortawesome/react-fontawesome/index.es.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/axios/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/atoms/DownloadButton.jsx because of ./src/components/templates/HomeTemplate/organisms/HomeList.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/atoms/FavoriteButton.jsx because of ./src/components/templates/HomeTemplate/organisms/HomeList.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/atoms/NotFound.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/atoms/TooltipComponent.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/molecules/DropdownMobileFriendly.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/components/molecules/Loader.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/constants/env.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/contexts/DomContext.jsx */
/*! ModuleConcatenation bailout: Cannot concat with ./src/hooks/useCacheRoute.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/file-saver/dist/FileSaver.min.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-cookie/es6/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react-router-dom/esm/react-router-dom.js (<- Module is referenced from these modules with unsupported syntax: ./node_modules/react-router-cache-route/lib/index.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "b", function() { return /* binding */ downloadImage; });\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("./node_modules/react/index.js");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__("./node_modules/axios/index.js");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/file-saver/dist/FileSaver.min.js\nvar FileSaver_min = __webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");\n\n// EXTERNAL MODULE: ./node_modules/react-cookie/es6/index.js + 8 modules\nvar es6 = __webpack_require__("./node_modules/react-cookie/es6/index.js");\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/react-fontawesome/index.es.js\nvar index_es = __webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js");\n\n// EXTERNAL MODULE: ./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\nvar free_solid_svg_icons_index_es = __webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js");\n\n// EXTERNAL MODULE: ./src/constants/env.js\nvar env = __webpack_require__("./src/constants/env.js");\n\n// EXTERNAL MODULE: ./src/utils/index.js\nvar utils = __webpack_require__("./src/utils/index.js");\n\n// EXTERNAL MODULE: ./src/components/molecules/DropdownMobileFriendly.jsx\nvar DropdownMobileFriendly = __webpack_require__("./src/components/molecules/DropdownMobileFriendly.jsx");\n\n// CONCATENATED MODULE: ./src/components/atoms/WriterCard.jsx\n\n\n\n\n\n\n\nclass WriterCard_WriterCard extends react_default.a.Component {\n  render() {\n    return /*#__PURE__*/react_default.a.createElement("div", {\n      className: "rounded-pill d-flex writer-card p-1 align-items-center border shadow-sm",\n      onClick: () => this.props.history.push(this.props.writer.url["images"])\n    }, /*#__PURE__*/react_default.a.createElement("img", {\n      className: "rounded-circle writer-card-image",\n      src: this.props.writer.image,\n      alt: this.props.writer.name\n    }), /*#__PURE__*/react_default.a.createElement("h6", {\n      className: "mx-2 mb-0"\n    }, this.props.writer.name), /*#__PURE__*/react_default.a.createElement(DropdownMobileFriendly["a" /* default */], {\n      id: "writer-card-menu",\n      buttonClass: "p-0 writer-card-detail-button rounded-circle",\n      menuSettings: [...(utils["r" /* isMobile */] ? [{\n        type: "TITLE",\n        label: this.props.writer.name\n      }] : []), {\n        type: "LINK",\n        pathname: this.props.writer.url["images"],\n        label: "画像一覧へ",\n        icon: free_solid_svg_icons_index_es["v" /* faImages */]\n      }, {\n        type: "LINK",\n        pathname: this.props.writer.url["blogs"],\n        label: "ブログ一覧へ",\n        icon: free_solid_svg_icons_index_es["x" /* faNewspaper */]\n      }, !this.props.writer.graduate ? {\n        type: "ANCHOR",\n        href: this.props.writer.officialUrl,\n        targetBlank: true,\n        label: "公式ブログで確認",\n        icon: free_solid_svg_icons_index_es["p" /* faExternalLinkAlt */]\n      } : {}]\n    }, /*#__PURE__*/react_default.a.createElement(index_es["a" /* FontAwesomeIcon */], {\n      icon: free_solid_svg_icons_index_es["a" /* faAngleDown */]\n    })));\n  }\n\n}\n\n/* harmony default export */ var atoms_WriterCard = (Object(react_router_dom["withRouter"])(WriterCard_WriterCard));\n// EXTERNAL MODULE: ./src/components/molecules/Loader.jsx\nvar Loader = __webpack_require__("./src/components/molecules/Loader.jsx");\n\n// EXTERNAL MODULE: ./src/components/atoms/NotFound.jsx\nvar NotFound = __webpack_require__("./src/components/atoms/NotFound.jsx");\n\n// EXTERNAL MODULE: ./src/components/atoms/FavoriteButton.jsx\nvar FavoriteButton = __webpack_require__("./src/components/atoms/FavoriteButton.jsx");\n\n// EXTERNAL MODULE: ./src/components/atoms/TooltipComponent.jsx\nvar TooltipComponent = __webpack_require__("./src/components/atoms/TooltipComponent.jsx");\n\n// EXTERNAL MODULE: ./src/components/atoms/DownloadButton.jsx\nvar DownloadButton = __webpack_require__("./src/components/atoms/DownloadButton.jsx");\n\n// EXTERNAL MODULE: ./src/contexts/DomContext.jsx + 5 modules\nvar DomContext = __webpack_require__("./src/contexts/DomContext.jsx");\n\n// EXTERNAL MODULE: ./src/hooks/useCacheRoute.js\nvar useCacheRoute = __webpack_require__("./src/hooks/useCacheRoute.js");\n\n// CONCATENATED MODULE: ./src/components/organisms/ImageView.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst downloadImage = (url, csrftoken, incrementNumOfDownloads = () => void 0, order) => {\n  axios_default.a.post(url, {}, {\n    headers: {\n      "X-CSRFToken": csrftoken\n    },\n    responseType: "blob"\n  }).then(res => {\n    const blob = new Blob([res.data], {\n      type: res.data.type\n    });\n    const fileName = res.headers["content-disposition"].match(/filename="(.*)"/)[1];\n    Object(FileSaver_min["saveAs"])(blob, fileName);\n    incrementNumOfDownloads && incrementNumOfDownloads(order);\n  });\n};\n\nconst ImageView = props => {\n  const {\n    groupId,\n    blogCt,\n    order,\n    groupKey,\n    imageId,\n    images,\n    blog,\n    status,\n    isReadyView,\n    requestPutDownloadOnlyMobile,\n    incrementNumOfDownloads,\n    prevSrcCollection,\n    cookies\n  } = props;\n  const location = Object(react_router_dom["useLocation"])();\n  const domState = Object(DomContext["d" /* useDomState */])();\n  const domDispatch = Object(DomContext["c" /* useDomDispatch */])();\n  const {\n    isCachedRoute\n  } = Object(useCacheRoute["a" /* useCacheRoute */])();\n  const [mainImageId] = Object(react["useState"])(`${imageId}-${location.key}`);\n  const {\n    getIsFavorite,\n    setIsFavorite\n  } = Object(utils["h" /* geneIsFavoriteGetterSetter */])(domState.favoriteState, domDispatch, imageId);\n  const csrftoken = cookies.get("csrftoken");\n  const [onClickFavoriteButton, lottieName] = Object(FavoriteButton["b" /* useFavoriteButton */])(groupId, blogCt, order, setIsFavorite, getIsFavorite(), csrftoken);\n  Object(react["useEffect"])(() => {\n    if (isReadyView) {\n      const mainImage = document.getElementById(mainImageId); // 長押し検出eventをadd\n\n      Object(utils["b" /* addLongPressEventListeners */])(mainImage, requestPutDownloadOnlyMobile);\n    }\n  }, [isReadyView]);\n  Object(react["useEffect"])(() => {\n    if (isReadyView && !isCachedRoute) {\n      const mainImage = document.getElementById(mainImageId); // load original image\n\n      let imageObject = new Image();\n\n      imageObject.onload = () => {\n        if (mainImage !== null) {\n          mainImage.removeAttribute("srcset");\n          mainImage.setAttribute("src", imageObject.src);\n        }\n      };\n\n      const image = images[order];\n      imageObject.src = image.src["originals"]; // init isFavorite\n\n      domDispatch({\n        type: "INIT_FAVORITE",\n        imageID: imageId,\n        isFavorite: images[order].isFavorite\n      });\n    }\n  }, [isReadyView, isCachedRoute]);\n  let imageView;\n  let imageViewText;\n  let imageAlt;\n\n  if (!isReadyView) {\n    imageViewText = /*#__PURE__*/react_default.a.createElement(Loader["a" /* HorizontalLoader */], null);\n  } else if (status === "blog_not_found") {\n    imageView = /*#__PURE__*/react_default.a.createElement("div", {\n      className: "py-0 py-sm-5"\n    }, /*#__PURE__*/react_default.a.createElement(NotFound["c" /* NotFoundMessage */], {\n      type: "blogFailed",\n      margin: true\n    }));\n  } else if (status === "success") {\n    const image = images[order];\n    imageViewText = /*#__PURE__*/react_default.a.createElement("div", {\n      className: "ml-1 ml-sm-3 ml-lg-4 image-view-text"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "d-flex justify-content-between mt-1 mt-sm-3 mt-lg-2 mb-2 image-view-header"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "d-flex align-items-center p-0"\n    }, /*#__PURE__*/react_default.a.createElement(TooltipComponent["a" /* default */], {\n      title: "\\u3053\\u306E\\u753B\\u50CF\\u306E\\u95B2\\u89A7\\u6570"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      id: "num-of-image-views-icon"\n    }, /*#__PURE__*/react_default.a.createElement(index_es["a" /* FontAwesomeIcon */], {\n      icon: free_solid_svg_icons_index_es["q" /* faEye */],\n      style: {\n        color: "gray"\n      }\n    }))), "\\u00A0", image ? image.numOfViews : 0, /*#__PURE__*/react_default.a.createElement(TooltipComponent["a" /* default */], {\n      title: "\\u3053\\u306E\\u753B\\u50CF\\u306E\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\\u6570"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "ml-3",\n      id: "num-of-image-downloads-icon"\n    }, /*#__PURE__*/react_default.a.createElement(index_es["a" /* FontAwesomeIcon */], {\n      icon: free_solid_svg_icons_index_es["l" /* faDownload */],\n      style: {\n        color: "gray"\n      }\n    }))), "\\u00A0", image ? image.numOfDownloads : 0), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "d-flex justify-content-end"\n    }, /*#__PURE__*/react_default.a.createElement(FavoriteButton["a" /* default */], {\n      groupKey: groupKey,\n      isFavorite: getIsFavorite(),\n      lottieName: lottieName,\n      onClickFavoriteButton: onClickFavoriteButton,\n      type: "image-view"\n    }), !utils["r" /* isMobile */] && /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(TooltipComponent["a" /* default */], {\n      title: "\\u3053\\u306E\\u753B\\u50CF\\u3092\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9"\n    }, /*#__PURE__*/react_default.a.createElement(DownloadButton["a" /* default */], {\n      className: "image-view-download-button-v2",\n      groupId: groupId,\n      onClick: () => {\n        image && downloadImage(Object(utils["a" /* URLJoin */])(env["b" /* BASE_URL */], image.url), csrftoken, incrementNumOfDownloads, order);\n      }\n    }))))), /*#__PURE__*/react_default.a.createElement("div", null, /*#__PURE__*/react_default.a.createElement("hr", {\n      className: "mt-2 mt-lg-3 mb-4 mr-3"\n    })), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "image-view-body"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "d-flex mb-3"\n    }, /*#__PURE__*/react_default.a.createElement(TooltipComponent["a" /* default */], {\n      title: "\\u63B2\\u8F09\\u30D6\\u30ED\\u30B0"\n    }, /*#__PURE__*/react_default.a.createElement(index_es["a" /* FontAwesomeIcon */], {\n      className: "mr-3",\n      icon: free_solid_svg_icons_index_es["w" /* faLink */],\n      id: "image-view-blog-icon"\n    })), blog.url && /*#__PURE__*/react_default.a.createElement(react_router_dom["Link"], {\n      to: blog.url,\n      className: "image-view-blog-title"\n    }, blog.title.length > 50 || utils["t" /* isSmp */] ? blog.title.length > 0 ? /*#__PURE__*/react_default.a.createElement("h3", {\n      className: "smaller"\n    }, blog.title) : /*#__PURE__*/react_default.a.createElement("h3", {\n      className: "smaller"\n    }, "\\u00A0") : blog.title.length > 0 ? /*#__PURE__*/react_default.a.createElement("h3", null, blog.title) : /*#__PURE__*/react_default.a.createElement("h3", null, "\\u00A0"))), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "d-flex align-items-center"\n    }, /*#__PURE__*/react_default.a.createElement(TooltipComponent["a" /* default */], {\n      title: "\\u30D6\\u30ED\\u30B0\\u3092\\u66F8\\u3044\\u305F\\u30E1\\u30F3\\u30D0\\u30FC"\n    }, /*#__PURE__*/react_default.a.createElement(index_es["a" /* FontAwesomeIcon */], {\n      className: "mr-3",\n      icon: free_solid_svg_icons_index_es["y" /* faPencilAlt */],\n      id: "image-view-writer-icon"\n    })), /*#__PURE__*/react_default.a.createElement(atoms_WriterCard, {\n      writer: blog.writer\n    }))), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "image-view-footer mt-4 mt-sm-5 mt-lg-2 mb-2"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "image-view-to-official-button-wrapper"\n    }, /*#__PURE__*/react_default.a.createElement(TooltipComponent["a" /* default */], {\n      title: "\\u516C\\u5F0F\\u30D6\\u30ED\\u30B0\\u3067\\u78BA\\u8A8D"\n    }, /*#__PURE__*/react_default.a.createElement("a", {\n      className: "btn btn-primary rounded-pill image-view-to-official-button py-0 " + (utils["t" /* isSmp */] ? "px-2" : ""),\n      id: "image-view-to-official-button",\n      role: "button",\n      target: "_blank",\n      rel: "noreferrer",\n      href: blog.officialUrl\n    }, /*#__PURE__*/react_default.a.createElement("h6", {\n      className: "omit-title m-0 image-view-to-official-title"\n    }, /*#__PURE__*/react_default.a.createElement(index_es["a" /* FontAwesomeIcon */], {\n      icon: free_solid_svg_icons_index_es["p" /* faExternalLinkAlt */]\n    }), " ", groupKey + "zaka46.com")))), /*#__PURE__*/react_default.a.createElement(DropdownMobileFriendly["a" /* default */], {\n      id: "image-view-card-menu",\n      buttonClass: "p-0 image-view-detail-button rounded-circle",\n      menuSettings: [...(utils["r" /* isMobile */] ? [{\n        type: "TITLE",\n        label: `${blog.title}（${blog.writer.name}）`\n      }, {\n        type: "LINK",\n        pathname: blog.url,\n        label: "掲載ブログを確認",\n        icon: free_solid_svg_icons_index_es["w" /* faLink */]\n      }] : [{\n        type: "ONCLICK",\n        label: "この画像をダウンロードする",\n        onClick: () => {\n          downloadImage(Object(utils["a" /* URLJoin */])(env["b" /* BASE_URL */], image.url), csrftoken, incrementNumOfDownloads, order);\n        },\n        icon: free_solid_svg_icons_index_es["l" /* faDownload */]\n      }]), {\n        type: "ANCHOR",\n        href: blog.officialUrl,\n        targetBlank: true,\n        label: "公式ブログで確認",\n        icon: free_solid_svg_icons_index_es["p" /* faExternalLinkAlt */]\n      }, {\n        type: "LINK",\n        pathname: blog.writer.url["images"],\n        label: `「${blog.writer.name}」の画像を探す`,\n        icon: free_solid_svg_icons_index_es["v" /* faImages */]\n      }, {\n        type: "LINK",\n        pathname: blog.writer.url["blogs"],\n        label: `「${blog.writer.name}」のブログを探す`,\n        icon: free_solid_svg_icons_index_es["x" /* faNewspaper */]\n      }]\n    }, /*#__PURE__*/react_default.a.createElement(index_es["a" /* FontAwesomeIcon */], {\n      icon: free_solid_svg_icons_index_es["c" /* faBars */]\n    }))));\n    imageAlt = Object(utils["i" /* generateAlt */])(groupKey, blog.writer.name);\n  }\n\n  let src;\n\n  if (prevSrcCollection) {\n    src = prevSrcCollection["250x"];\n  } else {\n    if (status === "success" && images.length > 0) {\n      const image = images[order];\n      src = image.src["250x"];\n    } else {\n      src = null;\n    }\n  }\n\n  if (utils["t" /* isSmp */]) {\n    imageView = /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement("img", {\n      className: "image-of-image-view smp",\n      src: src,\n      id: mainImageId,\n      alt: imageAlt\n    }), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "container mt-3 text-muted"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "alert alert-success",\n      role: "alert",\n      style: {\n        borderRadius: "1rem",\n        fontSize: 14\n      }\n    }, "\\u753B\\u50CF\\u3092\\u9577\\u62BC\\u3057\\u3057\\u3066\\u4FDD\\u5B58\\u3092\\u304A\\u3053\\u306A\\u3063\\u3066\\u304F\\u3060\\u3055\\u3044"), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "card otapick-card2 mx-auto image-view smp " + groupKey\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "card-body"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "p-0"\n    }, imageViewText)))));\n  } else {\n    let srcSet;\n\n    if (prevSrcCollection) {\n      srcSet = `${prevSrcCollection["250x"]} 1x, ${prevSrcCollection["500x"]} 2x`;\n    } else {\n      if (status === "success") {\n        const image = images[order];\n        srcSet = `${image.src["250x"]} 1x, ${image.src["500x"]} 2x`;\n      } else {\n        srcSet = null;\n      }\n    }\n\n    imageView = /*#__PURE__*/react_default.a.createElement("div", {\n      className: `card otapick-card2 mx-auto image-view ${utils["r" /* isMobile */] ? "mb-3 mt-1" : "my-4"} ${groupKey}`\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "card-body"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "row m-0"\n    }, /*#__PURE__*/react_default.a.createElement("div", {\n      className: "col-12 col-lg-6 p-0"\n    }, /*#__PURE__*/react_default.a.createElement("img", {\n      className: "image-of-image-view",\n      src: src,\n      id: mainImageId,\n      srcSet: srcSet,\n      alt: imageAlt,\n      onContextMenu: e => !utils["r" /* isMobile */] ? e.preventDefault() : "",\n      onMouseDown: e => !utils["r" /* isMobile */] ? e.preventDefault() : ""\n    })), /*#__PURE__*/react_default.a.createElement("div", {\n      className: "col-12 col-lg-6 p-0"\n    }, imageViewText))));\n  }\n\n  return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, utils["t" /* isSmp */] ? /*#__PURE__*/react_default.a.createElement("div", null, imageView) : /*#__PURE__*/react_default.a.createElement("div", {\n    className: "container mt-3 text-muted"\n  }, imageView));\n};\n\n/* harmony default export */ var organisms_ImageView = __webpack_exports__["a"] = (Object(react_router_dom["withRouter"])(Object(es6["a" /* withCookies */])(ImageView)));\n\n//# sourceURL=webpack:///./src/components/organisms/ImageView.jsx_+_1_modules?')},"./src/hooks/useAxiosQuery.js":
/*!************************************!*\
  !*** ./src/hooks/useAxiosQuery.js ***!
  \************************************/
/*! exports provided: useAxiosQuery */
/*! exports used: useAxiosQuery */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return useAxiosQuery; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-query */ "./node_modules/react-query/es/index.js");\n/* harmony import */ var _hooks_useAxios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ~/hooks/useAxios */ "./src/hooks/useAxios.js");\n/* harmony import */ var _utils_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ~/utils/index */ "./src/utils/index.js");\n\n\n\n\n/** axios × React Query\n * \n * フェッチしたデータをキャッシュする機能を持ったaxios hooks (メソッドはGET固定・didMount時リクエスト実行).\n * useAxiosと異なり, thenCallbackはキャッシュが存在した場合, レスポンスを待たずにそのキャッシュを用いて即時実行される.\n * Query keyは第一引数のurlである.\n * @param {string} url\n * @param {object} action [thenCallback, catchCallback, didRequestCallback, token, csrftoken, headers]\n * @return {object} UseQueryResult\n * @example\n  const { data, isLoading, isError } = useAxios(URLJoin(BASE_URL, ".../"), {\n    thenCallback: (res, resData) => { }, // resDataは, 整形済みであり型安全が保証されているためasしても構わない\n    catchCallback: err => { },\n    token: authState.token,\n  });\n * */\n\nconst useAxiosQuery = (url, action) => {\n  //---------- constants ----------//\n  // ↓変更があれば都度追加していく↓\n  const correctActionKeys = ["thenCallback", "catchCallback", "didRequestCallback", "token", "csrftoken", "headers"]; //---------- constants ----------//\n  // init axios\n\n  const [axiosInstance, axiosSettings] = Object(_hooks_useAxios__WEBPACK_IMPORTED_MODULE_2__[/* initAxios */ "a"])(url, "get", action);\n  axiosInstance.interceptors.response.use(response => {\n    // set didRequestCallback\n    if ("didRequestCallback" in action) {\n      action.didRequestCallback();\n    }\n\n    return Promise.resolve(response);\n  }, error => {\n    return Promise.reject(error);\n  });\n  const resultQuery = Object(react_query__WEBPACK_IMPORTED_MODULE_1__["useQuery"])(url, async () => {\n    // actionのエラーハンドリング\n    Object(_utils_index__WEBPACK_IMPORTED_MODULE_3__[/* checkCorrectKey */ "c"])(correctActionKeys, action, incorrectkey => {\n      console.error(`"${incorrectkey}" action key is not supported.`);\n    });\n\n    try {\n      const res = await axiosInstance.request(axiosSettings);\n      return Object(_utils_index__WEBPACK_IMPORTED_MODULE_3__[/* deepCvtKeyFromSnakeToCamel */ "e"])(res.data);\n    } catch (err) {\n      Object(_hooks_useAxios__WEBPACK_IMPORTED_MODULE_2__[/* useCommonCatch */ "d"])(err, action);\n      throw err.response;\n    }\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    // APIフェッチが成功し、resultQuery.data にデータが格納されたとき. または更新されたとき\n    if (typeof resultQuery.data !== "undefined") {\n      if ("thenCallback" in action) {\n        action.thenCallback(resultQuery.data);\n      }\n    }\n  }, [resultQuery.data]);\n  return resultQuery;\n};\n\n//# sourceURL=webpack:///./src/hooks/useAxiosQuery.js?')},"./src/hooks/useView.js":
/*!******************************!*\
  !*** ./src/hooks/useView.js ***!
  \******************************/
/*! exports provided: useViewMatchParams, useViewUrl, useView, useViewNum */
/*! exports used: useView, useViewMatchParams, useViewNum, useViewUrl */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return useViewMatchParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return useViewUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return useView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return useViewNum; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/esm/react-router.js");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ~/utils */ "./src/utils/index.js");\n/* harmony import */ var _constants_env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ~/constants/env */ "./src/constants/env.js");\n/* harmony import */ var _hooks_useAxiosQuery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ~/hooks/useAxiosQuery */ "./src/hooks/useAxiosQuery.js");\n\n\n\n\n\n/**\n * blog・image兼用のhooks. URL(match.params)から各値を取得し返却.\n * orderのみimage限定\n * @returns\n */\n\nconst useViewMatchParams = () => {\n  var _match$params, _match$params2, _match$params3;\n\n  const match = Object(react_router__WEBPACK_IMPORTED_MODULE_1__[/* useRouteMatch */ "n"])();\n  const [groupId] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(match === null || match === void 0 ? void 0 : (_match$params = match.params) === null || _match$params === void 0 ? void 0 : _match$params.groupId);\n  const [blogCt] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(match === null || match === void 0 ? void 0 : (_match$params2 = match.params) === null || _match$params2 === void 0 ? void 0 : _match$params2.blogCt);\n  const [order] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(match === null || match === void 0 ? void 0 : (_match$params3 = match.params) === null || _match$params3 === void 0 ? void 0 : _match$params3.order); // image限定\n\n  const [groupKey] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(Object(_utils__WEBPACK_IMPORTED_MODULE_2__[/* getGroup */ "m"])(groupId));\n  return {\n    groupId,\n    blogCt,\n    order,\n    groupKey\n  };\n};\n/**\n * blog・image兼用のhooks. otapickのblog/image詳細URLを生成し返す\n * blogのみorderがundefinedであるため、geneImageApiUrlを提供\n * @param {*} groupId\n * @param {*} blogCt\n * @param {*} order imageのみ必要. blogはundefinedで可\n * @returns\n */\n\nconst useViewUrl = (groupId, blogCt, order) => {\n  const [imageApiUrl] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(Object(_utils__WEBPACK_IMPORTED_MODULE_2__[/* URLJoin */ "a"])(_constants_env__WEBPACK_IMPORTED_MODULE_3__[/* BASE_URL */ "b"], "image/", groupId, blogCt, order));\n\n  const geneImageApiUrl = _order => Object(_utils__WEBPACK_IMPORTED_MODULE_2__[/* URLJoin */ "a"])(_constants_env__WEBPACK_IMPORTED_MODULE_3__[/* BASE_URL */ "b"], "image/", groupId, blogCt, _order);\n\n  const [blogApiUrl] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(Object(_utils__WEBPACK_IMPORTED_MODULE_2__[/* URLJoin */ "a"])(_constants_env__WEBPACK_IMPORTED_MODULE_3__[/* BASE_URL */ "b"], "blog/", groupId, blogCt));\n  const [blogUrlPath] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(`/${Object(_utils__WEBPACK_IMPORTED_MODULE_2__[/* URLJoin */ "a"])("blog/", groupId, blogCt)}`);\n  return {\n    imageApiUrl,\n    blogApiUrl,\n    blogUrlPath,\n    geneImageApiUrl\n  };\n};\nconst useView = (blogApiUrl, setMetaVerView, order) => {\n  const [images, setImages] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])();\n  const [blog, setBlog] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])();\n  const [status, setStatus] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");\n  const [viewKey, setViewKey] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");\n  const [downloadKey, setDownloadKey] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])("");\n  const [isReadyView, setIsReadyView] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);\n  Object(_hooks_useAxiosQuery__WEBPACK_IMPORTED_MODULE_4__[/* useAxiosQuery */ "a"])(blogApiUrl, {\n    thenCallback: resData => {\n      const blogData = resData;\n\n      if (resData["status"] === "success") {\n        // order error(orderが渡されるimageのみ有効. blogはそのままパスされる)\n        if (typeof order !== "undefined" && resData.images.length <= order) {\n          setStatus("get_image_failed");\n          setBlog(blogData);\n          setMetaVerView && setMetaVerView("get_image_failed");\n        } else {\n          setBlog(blogData);\n          setImages(resData.images);\n          setStatus("success");\n          setViewKey(resData.viewKey);\n          setDownloadKey(resData.downloadKey);\n          setMetaVerView && setMetaVerView("success", blogData.title, blogData.writer.name);\n        }\n      } else if (resData["status"] === "blog_not_found") {\n        setStatus("blog_not_found");\n        setMetaVerView && setMetaVerView("blog_not_found");\n      }\n    }\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(() => {\n    if (!isReadyView && typeof images !== "undefined" && typeof blog !== "undefined" && typeof status === "string" && status.length > 0 && typeof viewKey === "string" && viewKey.length > 0 && typeof downloadKey === "string" && downloadKey.length > 0) {\n      setIsReadyView(true);\n    }\n  }, [images, blog, status, viewKey, downloadKey]);\n  return [images, setImages, blog, status, viewKey, downloadKey, isReadyView];\n};\n/**\n * blog・image兼用の閲覧数・DL数管理hooks.\n * サーバに閲覧数・DL数をputする処理ではなく、putした後にstateに対して加算する値を管理\n * @param {*} images\n * @param {*} setImages\n * @returns\n */\n\nconst useViewNum = (images, setImages) => {\n  const [addedNumOfViewsOnlyBlog, setAddedNumOfViewsOnlyBlog] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0);\n  const [addedNumOfDownloadsOnlyBlog, setAaddedNumOfDownloadsOnlyBlog] = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0); // incrementNumOfDownloadsがmobileにおいてサイレンダリングがかからない(setTimeoutに渡しているから?)のでrefをかませる\n\n  const addedNumOfDownloadsOnlyBlogRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(0);\n\n  const incrementNumOfViews = (order = -1) => {\n    if (order < 0) {\n      // blog\n      setAddedNumOfViewsOnlyBlog(addedNumOfViewsOnlyBlog + 1);\n    } else {\n      // image\n      let _images = [...images];\n\n      if (_images.length > order) {\n        _images[Number(order)].numOfViews += 1;\n        setImages(_images);\n      }\n    }\n  };\n\n  const incrementNumOfDownloads = (order = -1, num = 1) => {\n    if (order < 0) {\n      addedNumOfDownloadsOnlyBlogRef.current += num; // 総DL数\n\n      setAaddedNumOfDownloadsOnlyBlog(addedNumOfDownloadsOnlyBlogRef.current);\n    } else {\n      // DL数\n      let _images = [...images];\n\n      if (_images.length > order) {\n        _images[Number(order)].numOfDownloads += num;\n        setImages(_images);\n      }\n    }\n  };\n\n  return {\n    addedNumOfViewsOnlyBlog,\n    incrementNumOfViews,\n    addedNumOfDownloadsOnlyBlog,\n    incrementNumOfDownloads\n  };\n};\n\n//# sourceURL=webpack:///./src/hooks/useView.js?')}}]);