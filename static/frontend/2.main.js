(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[2],{

/***/ "./src/components/atoms/AdSense.jsx":
/*!******************************************!*\
  !*** ./src/components/atoms/AdSense.jsx ***!
  \******************************************/
/*! exports provided: SquareAds, LandscapeAds */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SquareAds\", function() { return SquareAds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LandscapeAds\", function() { return LandscapeAds; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/env */ \"./src/components/modules/env.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n\n\n\n\nclass DisplayAds extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n    this.DATA_AD_SLOT = \"\";\n    this.key = this.props.location.key;\n  }\n\n  componentDidMount() {\n    if (!_modules_env__WEBPACK_IMPORTED_MODULE_1__[\"DEBUG\"]) {\n      window.adsbygoogle = window.adsbygoogle || [];\n      window.adsbygoogle.push({});\n    }\n  }\n\n}\n\nclass SquareAds_ extends DisplayAds {\n  constructor(props) {\n    super(props);\n    this.DATA_AD_SLOT = _modules_env__WEBPACK_IMPORTED_MODULE_1__[\"DATA_AD_SLOT_SQUARE\"];\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, !_modules_env__WEBPACK_IMPORTED_MODULE_1__[\"DEBUG\"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ins\", {\n      className: \"adsbygoogle \" + this.key,\n      style: Object.assign({\n        display: \"block\"\n      }, this.props.height ? {\n        height: this.props.height\n      } : {}),\n      \"data-ad-client\": _modules_env__WEBPACK_IMPORTED_MODULE_1__[\"DATA_AD_CLIENT\"],\n      \"data-ad-slot\": this.DATA_AD_SLOT,\n      \"data-ad-format\": \"auto\",\n      \"data-full-width-responsive\": \"true\"\n    }));\n  }\n\n}\n\nclass LandscapeAds_ extends DisplayAds {\n  constructor(props) {\n    super(props);\n    this.DATA_AD_SLOT = _modules_env__WEBPACK_IMPORTED_MODULE_1__[\"DATA_AD_SLOT_LANDSCAPE\"];\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, !_modules_env__WEBPACK_IMPORTED_MODULE_1__[\"DEBUG\"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ins\", {\n      className: \"adsbygoogle \" + this.key,\n      style: Object.assign({\n        display: \"block\"\n      }, this.props.height ? {\n        height: this.props.height\n      } : {}),\n      \"data-ad-client\": _modules_env__WEBPACK_IMPORTED_MODULE_1__[\"DATA_AD_CLIENT\"],\n      \"data-ad-slot\": this.DATA_AD_SLOT,\n      \"data-ad-format\": \"horizontal\",\n      \"data-full-width-responsive\": \"false\"\n    }));\n  }\n\n}\n\nconst SquareAds = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"withRouter\"])(SquareAds_);\nconst LandscapeAds = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"withRouter\"])(LandscapeAds_);\n\n//# sourceURL=webpack:///./src/components/atoms/AdSense.jsx?");

/***/ }),

/***/ "./src/components/atoms/FavoriteButton.jsx":
/*!*************************************************!*\
  !*** ./src/components/atoms/FavoriteButton.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var reactstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! reactstrap */ \"./node_modules/reactstrap/es/index.js\");\n/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lottie-web */ \"./node_modules/lottie-web/build/player/lottie.js\");\n/* harmony import */ var lottie_web__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lottie_web__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _modules_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/utils */ \"./src/components/modules/utils.js\");\n/* harmony import */ var react_cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-cookie */ \"./node_modules/react-cookie/es6/index.js\");\n/* harmony import */ var _modules_env__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/env */ \"./src/components/modules/env.js\");\n/* harmony import */ var _modules_axios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../modules/axios */ \"./src/components/modules/axios.js\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../contexts/AuthContext */ \"./src/components/contexts/AuthContext.jsx\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n\n\n\n\n\n\n\n\n\n/**\n * propsのisShowMenu, cardHeightがundefinedの場合、image viewに切り替わる。\n */\n\nconst FavoriteButton = Object(react_cookie__WEBPACK_IMPORTED_MODULE_4__[\"withCookies\"])(props => {\n  const {\n    groupID,\n    blogCt,\n    order,\n    isFavorite,\n    setIsFavorite,\n    group,\n    isShowMenu,\n    cardHeight\n  } = props;\n  const animationContainer = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(null);\n  const authState = Object(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_7__[\"useAuthState\"])();\n  const url = Object(_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"URLJoin\"])(_modules_env__WEBPACK_IMPORTED_MODULE_5__[\"BASE_URL\"], \"favorites/\", groupID, blogCt, order);\n  const putReqFunctions = Object(_modules_axios__WEBPACK_IMPORTED_MODULE_6__[\"useAxios\"])(url, \"put\", {\n    thenCallback: res => {\n      setIsFavorite(true);\n    },\n    catchCallback: err => {\n      setIsFavorite(false);\n    },\n    token: authState.token,\n    csrftoken: props.cookies.get(\"csrftoken\")\n  });\n  const deleteReqFunctions = Object(_modules_axios__WEBPACK_IMPORTED_MODULE_6__[\"useAxios\"])(url, \"delete\", {\n    thenCallback: res => {\n      setIsFavorite(false);\n    },\n    catchCallback: err => {\n      setIsFavorite(true);\n    },\n    token: authState.token,\n    csrftoken: props.cookies.get(\"csrftoken\")\n  }); // Init lottie\n\n  const [lottieName] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(`favoritebutton-${groupID}-${blogCt}-${order}`);\n  let bookmarkAnimationData;\n  Object.values(_modules_env__WEBPACK_IMPORTED_MODULE_5__[\"GROUPS\"]).forEach(groupObj => {\n    if (groupObj.key === group) bookmarkAnimationData = groupObj.bookmarkAnimationData;\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.loadAnimation({\n      container: animationContainer.current,\n      animationData: bookmarkAnimationData,\n      loop: false,\n      autoplay: false,\n      name: lottieName\n    });\n    lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.setSpeed(1.8, lottieName);\n  }, []);\n  const isAnimating = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useRef\"])(false); // didMount・画面遷移時、またはisFavoriteが変化した時にデザイン適用\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    // アニメーションを中断してデザイン変更してしまうのを防ぐ\n    if (isFavorite) {\n      if (!isAnimating.current && Object(_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"checkNotCached\"])(props)) {\n        lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.goToAndStop(1000, true, lottieName);\n      }\n    } else {\n      lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.goToAndStop(0, true, lottieName);\n    }\n  }, [isFavorite, props.location]);\n\n  const onClickFavoriteButton = () => {\n    // マイフォルダに追加\n    if (!isFavorite) {\n      lottie_web__WEBPACK_IMPORTED_MODULE_2___default.a.play(lottieName); // 1秒間isAnimatingをtrueにして、アニメーション中断を防ぐ\n\n      isAnimating.current = true;\n      setTimeout(() => {\n        isAnimating.current = false;\n      }, 1000);\n      putReqFunctions.request();\n    } // マイフォルダから取り出す\n    else {\n        deleteReqFunctions.request();\n      }\n  }; // image view\n\n\n  if (typeof isShowMenu === \"undefined\" && typeof cardHeight === \"undefined\") {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], {\n      className: `rounded-circle p-0 image-view-favorite-button ${_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"] ? \"mobile\" : \"\"}`,\n      title: isFavorite ? \"この画像をマイフォルダから削除する\" : \"この画像をマイフォルダに追加する\",\n      onClick: onClickFavoriteButton\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      ref: animationContainer,\n      className: `${isFavorite ? \"lottie-favorite-shadow lottie-favorite-image-view\" : \"lottie-favorite-image-view-deactive\"}`\n    }));\n  } // image list\n  else {\n      // 画像ロード後に表示。また、menuが非表示でもお気に入り登録されていればアイコンのみ表示される。\n      const isShowFavoriteButton = cardHeight > 0 && (isFavorite || isShowMenu);\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], {\n        className: `rounded-circle p-0 ${isShowMenu ? \"image-card-favorite-button\" : \"image-card-favorite-button-transparent\"}`,\n        title: isFavorite ? \"この画像をマイフォルダから削除する\" : \"この画像をマイフォルダに追加する\",\n        onClick: onClickFavoriteButton,\n        style: {\n          display: isShowFavoriteButton ? \"block\" : \"none\"\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        ref: animationContainer,\n        className: `${isFavorite ? \"lottie-favorite-shadow lottie-favorite\" : \"lottie-favorite-deactive\"}`\n      }));\n    }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_8__[\"withRouter\"])(FavoriteButton));\n\n//# sourceURL=webpack:///./src/components/atoms/FavoriteButton.jsx?");

/***/ }),

/***/ "./src/components/atoms/WriterCard.jsx":
/*!*********************************************!*\
  !*** ./src/components/atoms/WriterCard.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var reactstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! reactstrap */ \"./node_modules/reactstrap/es/index.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var _modules_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/utils */ \"./src/components/modules/utils.js\");\n/* harmony import */ var _molecules_MobileMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../molecules/MobileMenu */ \"./src/components/molecules/MobileMenu.jsx\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"./node_modules/@fortawesome/react-fontawesome/index.es.js\");\n/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ \"./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\");\n\n\n\n\n\n\n\n\n\nclass DetailButton extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dropdownOpen: false\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState(prevState => ({\n      dropdownOpen: !prevState.dropdownOpen\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"ButtonDropdown\"], {\n      direction: \"right\",\n      isOpen: this.state.dropdownOpen,\n      toggle: this.toggle,\n      onClick: e => e.stopPropagation()\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownToggle\"], {\n      color: \"light\",\n      className: \"p-0 writer-card-detail-button rounded-circle\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_5__[\"FontAwesomeIcon\"], {\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_6__[\"faAngleDown\"]\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownMenu\"], {\n      className: \"bold\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownItem\"], {\n      tag: react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"],\n      to: this.props.writer.url[\"images\"]\n    }, \"\\u753B\\u50CF\\u4E00\\u89A7\\u3078\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownItem\"], {\n      tag: react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"],\n      to: this.props.writer.url[\"blogs\"]\n    }, \"\\u30D6\\u30ED\\u30B0\\u4E00\\u89A7\\u3078\")));\n  }\n\n}\n\nclass WriterCard extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"rounded-pill d-flex writer-card p-1 align-items-center border shadow-sm\",\n      onClick: () => this.props.history.push(this.props.writer.url[\"images\"])\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n      className: \"rounded-circle writer-card-image\",\n      src: this.props.writer.image\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h6\", {\n      className: \"mx-2 mb-0\"\n    }, this.props.writer.name), _modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"] ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_MobileMenu__WEBPACK_IMPORTED_MODULE_4__[\"MobileBottomMenu\"], {\n      id: \"writer-card-menu\",\n      type: \"writerCard\",\n      title: this.props.writer.name,\n      url: this.props.writer.url,\n      officialUrl: this.props.writer.official_url\n    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DetailButton, {\n      writer: this.props.writer\n    }));\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"withRouter\"])(WriterCard));\n\n//# sourceURL=webpack:///./src/components/atoms/WriterCard.jsx?");

/***/ }),

/***/ "./src/components/molecules/ImageCard.jsx":
/*!************************************************!*\
  !*** ./src/components/molecules/ImageCard.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var reactstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! reactstrap */ \"./node_modules/reactstrap/es/index.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var _modules_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/utils */ \"./src/components/modules/utils.js\");\n/* harmony import */ var _organisms_ImageView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../organisms/ImageView */ \"./src/components/organisms/ImageView.jsx\");\n/* harmony import */ var _MobileMenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MobileMenu */ \"./src/components/molecules/MobileMenu.jsx\");\n/* harmony import */ var react_cookie__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-cookie */ \"./node_modules/react-cookie/es6/index.js\");\n/* harmony import */ var _modules_env__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../modules/env */ \"./src/components/modules/env.js\");\n/* harmony import */ var _atoms_FavoriteButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../atoms/FavoriteButton */ \"./src/components/atoms/FavoriteButton.jsx\");\n/* harmony import */ var _contexts_DomContext__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../contexts/DomContext */ \"./src/components/contexts/DomContext.jsx\");\n/* harmony import */ var react_lazyload__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-lazyload */ \"./node_modules/react-lazyload/lib/index.js\");\n/* harmony import */ var react_lazyload__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_lazyload__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"./node_modules/@fortawesome/react-fontawesome/index.es.js\");\n/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ \"./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass DownloadButton extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], {\n      className: \"rounded-circle p-0 image-card-download-button \" + this.props.group,\n      title: \"\\u3053\\u306E\\u753B\\u50CF\\u3092\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\\u3059\\u308B\",\n      onClick: () => Object(_organisms_ImageView__WEBPACK_IMPORTED_MODULE_4__[\"downloadImage\"])(Object(_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"URLJoin\"])(_modules_env__WEBPACK_IMPORTED_MODULE_7__[\"BASE_URL\"], this.props.url), this.props.csrftoken)\n    });\n  }\n\n}\n\nclass ToBlogButton extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, this.props.title != \"\" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], {\n      to: this.props.url,\n      className: \"btn btn-primary rounded-pill image-to-blog-button image-card-button text-left d-flex align-items-center\",\n      role: \"button\",\n      title: `「${this.props.title}」を確認`\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h6\", {\n      className: \"omit-title m-0\",\n      style: {\n        fontSize: 14\n      }\n    }, this.props.title)));\n  }\n\n}\n\nclass DetailButton extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dropdownOpen: false\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState(prevState => {\n      if (prevState.dropdownOpen) this.props.hideMenu();\n      return {\n        dropdownOpen: !prevState.dropdownOpen\n      };\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"ButtonDropdown\"], {\n      direction: \"right\",\n      isOpen: this.state.dropdownOpen,\n      toggle: this.toggle,\n      className: \"image-card-detail-button-super text-center\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownToggle\"], {\n      color: \"light\",\n      className: \"p-0 image-card-detail-button image-card-button rounded-circle\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__[\"FontAwesomeIcon\"], {\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_12__[\"faBars\"]\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownMenu\"], {\n      className: \"bold\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownItem\"], {\n      tag: react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"],\n      to: {\n        pathname: this.props.url,\n        state: {\n          prevSrc: this.props.src\n        }\n      }\n    }, \"\\u8A73\\u7D30\\u30DA\\u30FC\\u30B8\\u3078\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownItem\"], {\n      divider: true\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownItem\"], {\n      tag: react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"],\n      to: this.props.writer.url[\"images\"]\n    }, `「${this.props.writer.name}」の他の画像を探す`), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownItem\"], {\n      onClick: () => Object(_organisms_ImageView__WEBPACK_IMPORTED_MODULE_4__[\"downloadImage\"])(Object(_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"URLJoin\"])(_modules_env__WEBPACK_IMPORTED_MODULE_7__[\"BASE_URL\"], this.props.url), this.props.csrftoken)\n    }, \"\\u3053\\u306E\\u753B\\u50CF\\u3092\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\\u3059\\u308B\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"DropdownItem\"], {\n      href: this.props.officialUrl,\n      target: \"_blank\"\n    }, \"\\u516C\\u5F0F\\u30D6\\u30ED\\u30B0\\u3067\\u78BA\\u8A8D\")));\n  }\n\n}\n\nclass ImageCard extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n\n    this.setIsOpenMenu = willOpen => {\n      if (!_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"]) {\n        if (willOpen && !this.isHover) {\n          this.setState({\n            isOpenMenu: willOpen\n          });\n        } else if (!willOpen && this.isHover) {\n          if (!this.detailButtonRef.current.state.dropdownOpen) {\n            this.setState({\n              isOpenMenu: willOpen\n            });\n          }\n        }\n      }\n    };\n\n    this.hideMenu = () => {\n      if (!this.isHover) this.setState({\n        isOpenMenu: false\n      });\n    };\n\n    this.componentDidMount = () => {\n      // update this.state.cardHeight\n      if (this.imageCardRef && this.state.cardHeight !== this.imageCardRef.clientHeight) {\n        this.setState({\n          cardHeight: this.imageCardRef.clientHeight\n        });\n      } // init isFavorite\n\n\n      this.props.domDispatch({\n        type: \"INIT_FAVORITE\",\n        imageID: this.imageID,\n        isFavorite: this.props.initIsFavorite\n      });\n    };\n\n    this.componentDidUpdate = () => {\n      console.log(\"レンダーimageCard\");\n\n      if (this.imageCardRef && this.imageCardRef.clientHeight > this.state.cardHeight) {\n        this.setState({\n          cardHeight: this.imageCardRef.clientHeight\n        });\n      }\n    };\n\n    this.state = {\n      isOpenMenu: false,\n      cardHeight: 0\n    };\n    this.isHover = false;\n    this.detailButtonRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    this.imageID = props.imageID;\n    this.setIsFavorite = Object(_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"geneIsFavoriteGetterSetter\"])({}, props.domDispatch, this.imageID).setIsFavorite;\n    this.csrftoken = props.cookies.get(\"csrftoken\");\n  }\n\n  render() {\n    const isShowMenu = this.state.isOpenMenu && !_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"];\n    const isEnoughHighMenu = this.state.cardHeight > 100;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"image-card\",\n      ref: imageCardRef => this.imageCardRef = imageCardRef // onMouseEnter={() => { console.log(\"エンター\"); this.setIsOpenMenu(true); this.isHover = true; }}\n      ,\n      onMouseEnter: () => {\n        this.setIsOpenMenu(true);\n        this.isHover = true;\n      },\n      onMouseLeave: () => {\n        this.setIsOpenMenu(false);\n        this.isHover = false;\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], {\n      to: {\n        pathname: this.props.url,\n        state: {\n          prevSrc: this.props.src\n        }\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"image-card-wrapper \" + (!_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"] ? \"pc\" : \"\")\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n      className: \"image-card-img \" + (this.props.orderly ? \"newpost-thumbnail\" : \"\"),\n      src: _modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isSmp\"] ? this.props.src[\"250x\"] : \"\",\n      srcSet: !_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isSmp\"] ? `${this.props.src[\"250x\"]} 1x, ${this.props.src[\"500x\"]} 2x` : \"\",\n      alt: Object(_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"generateAlt\"])(this.props.group, this.props.writer.name),\n      id: this.props.imgID || this.imageID // width={250}\n      // height={250}\n\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atoms_FavoriteButton__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n      group: this.props.group,\n      groupID: this.props.groupID,\n      blogCt: this.props.blogCt,\n      order: this.props.order,\n      isFavorite: this.props.isFavorite,\n      setIsFavorite: this.setIsFavorite,\n      isShowMenu: isShowMenu,\n      cardHeight: this.state.cardHeight\n    }), isShowMenu && isEnoughHighMenu && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DownloadButton, {\n      group: this.props.group,\n      url: this.props.url,\n      csrftoken: this.csrftoken\n    }), isShowMenu && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ToBlogButton, {\n      url: this.props.blogUrl,\n      title: this.props.blogTitle\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DetailButton, {\n      url: this.props.url,\n      officialUrl: this.props.officialUrl,\n      ref: this.detailButtonRef,\n      hideMenu: () => this.hideMenu(),\n      writer: this.props.writer,\n      src: this.props.src,\n      csrftoken: this.csrftoken\n    }))), (this.props.message || _modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"]) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"image-card-footer\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"image-card-message \" + (_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"] ? \"mobile\" : \"\")\n    }, this.props.message && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], {\n      to: {\n        pathname: this.props.url,\n        state: {\n          prevSrc: this.props.src\n        }\n      },\n      onMouseEnter: () => {\n        this.setIsOpenMenu(true);\n        this.isHover = true;\n      },\n      onMouseLeave: () => {\n        this.setIsOpenMenu(false);\n        this.isHover = false;\n      },\n      style: {\n        textDecoration: \"none\"\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"card-message mx-auto py-2 \" + (!_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"] ? \"pc\" : \"\")\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_11__[\"FontAwesomeIcon\"], {\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_12__[\"faCrown\"],\n      style: {\n        color: \"gold\"\n      }\n    }), \" \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, this.props.message)))), _modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MobileMenu__WEBPACK_IMPORTED_MODULE_5__[\"MobileBottomMenu\"], {\n      id: this.props.id,\n      type: \"imageCard\",\n      title: `${this.props.blogTitle}（${this.props.writer.name}）`,\n      url: this.props.url,\n      officialUrl: this.props.officialUrl,\n      writer: this.props.writer,\n      src: this.props.src\n    })));\n  }\n\n} // 1ページに数百単位でレンダリングされるコンポーネントのため、\n// ImageCardのprops・stateに変更があったときのみ再レンダー(memo)\n\n\nconst withImageCard = () => {\n  const _ImageCard = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(Object(react_cookie__WEBPACK_IMPORTED_MODULE_6__[\"withCookies\"])(ImageCard));\n\n  return props => {\n    const imageID = `${props.groupID}_${props.blogCt}_${props.order}`;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_DomContext__WEBPACK_IMPORTED_MODULE_9__[\"DomStateContext\"].Consumer, null, domState => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_DomContext__WEBPACK_IMPORTED_MODULE_9__[\"DomDispatchContext\"].Consumer, null, domDispatch => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ImageCard, _extends({}, props, {\n      orderly: false,\n      imageID: imageID,\n      initIsFavorite: props.isFavorite,\n      isFavorite: domState.favoriteState[imageID],\n      domDispatch: domDispatch\n    }))));\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (withImageCard());\n\n//# sourceURL=webpack:///./src/components/molecules/ImageCard.jsx?");

/***/ }),

/***/ "./src/components/molecules/info/BlogViewInfo.jsx":
/*!********************************************************!*\
  !*** ./src/components/molecules/info/BlogViewInfo.jsx ***!
  \********************************************************/
/*! exports provided: ViewTooltip, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ViewTooltip\", function() { return ViewTooltip; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var reactstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! reactstrap */ \"./node_modules/reactstrap/es/index.js\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var _modules_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modules/utils */ \"./src/components/modules/utils.js\");\n/* harmony import */ var _modules_env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modules/env */ \"./src/components/modules/env.js\");\n/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ \"./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"./node_modules/@fortawesome/react-fontawesome/index.es.js\");\n\n\n\n\n\n\n\n\nconst ViewTooltip = props => {\n  const [tooltipOpen, setTooltipOpen] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n\n  const toggle = () => setTooltipOpen(!tooltipOpen);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], {\n    placement: \"top\",\n    isOpen: tooltipOpen,\n    target: props.target,\n    toggle: toggle\n  }, props.title);\n};\n\nclass BlogViewInfo extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let officialLinkTitle;\n    Object.values(_modules_env__WEBPACK_IMPORTED_MODULE_4__[\"GROUPS\"]).forEach(groupObj => {\n      if (groupObj.key === this.props.group) officialLinkTitle = groupObj.domain;\n    });\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"card otapick-card2 \" + (_modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isSmp\"] ? \"smp mb-3 \" : _modules_utils__WEBPACK_IMPORTED_MODULE_3__[\"isMobile\"] ? \"mb-3 mt-1 \" : \"my-4 \") + this.props.group\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"card-body px-4 px-sm-5 py-4\"\n    }, this.props.title.length > 0 ? this.props.title.length > 50 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", {\n      className: \"smaller\"\n    }, this.props.title) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, this.props.title) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"\\u00A0\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"row download-info mt-3\"\n    }, !Object.keys(this.props.writer).length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], {\n      to: \"\",\n      className: \"info-description ml-3 small \" + this.props.group\n    }, \"\\u00A0\") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], {\n      to: this.props.writer.url[\"blogs\"],\n      className: \"info-description ml-3 small \" + this.props.group\n    }, !this.props.writer.name ? \"\\u00A0\" : this.props.writer.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n      className: \"info-description ml-3 small mb-0\"\n    }, this.props.postDate)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", {\n      className: \"info-hr\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"row ml-2 ml-sm-3\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"row col-12 col-sm-7 col-md-8 col-lg-9 col-xl-10 info-description\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"d-flex align-items-center\",\n      id: \"num-of-views-icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__[\"FontAwesomeIcon\"], {\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_5__[\"faEye\"],\n      style: {\n        color: \"gray\"\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewTooltip, {\n      target: \"num-of-views-icon\",\n      title: \"\\u95B2\\u89A7\\u6570\"\n    }), \"\\u00A0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"\"\n    }, this.props.numOfViews), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"d-flex align-items-center ml-3\",\n      id: \"num-of-downloads-icon\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__[\"FontAwesomeIcon\"], {\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_5__[\"faDownload\"],\n      style: {\n        color: \"gray\"\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewTooltip, {\n      target: \"num-of-downloads-icon\",\n      title: \"\\u7DCF\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\\u6570\"\n    }), \"\\u00A0\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"\"\n    }, this.props.numOfDownloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"col-12 col-sm-5 col-md-4 col-lg-3 col-xl-2 info-description px-0 mt-2 mt-sm-0\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n      href: this.props.officialUrl,\n      className: this.props.group,\n      target: \"_blank\",\n      id: \"officialLink\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"download-official-a\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_6__[\"FontAwesomeIcon\"], {\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_5__[\"faExternalLinkAlt\"]\n    }), \"\\u00A0\", officialLinkTitle)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ViewTooltip, {\n      target: \"officialLink\",\n      title: \"\\u516C\\u5F0F\\u30D6\\u30ED\\u30B0\\u3067\\u78BA\\u8A8D\"\n    })))));\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"withRouter\"])(BlogViewInfo));\n\n//# sourceURL=webpack:///./src/components/molecules/info/BlogViewInfo.jsx?");

/***/ }),

/***/ "./src/components/organisms/ImageView.jsx":
/*!************************************************!*\
  !*** ./src/components/organisms/ImageView.jsx ***!
  \************************************************/
/*! exports provided: downloadImage, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"downloadImage\", function() { return downloadImage; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! file-saver */ \"./node_modules/file-saver/dist/FileSaver.min.js\");\n/* harmony import */ var file_saver__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _modules_env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/env */ \"./src/components/modules/env.js\");\n/* harmony import */ var reactstrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! reactstrap */ \"./node_modules/reactstrap/es/index.js\");\n/* harmony import */ var _modules_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/utils */ \"./src/components/modules/utils.js\");\n/* harmony import */ var _molecules_info_BlogViewInfo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../molecules/info/BlogViewInfo */ \"./src/components/molecules/info/BlogViewInfo.jsx\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var _atoms_WriterCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../atoms/WriterCard */ \"./src/components/atoms/WriterCard.jsx\");\n/* harmony import */ var _molecules_MobileMenu__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../molecules/MobileMenu */ \"./src/components/molecules/MobileMenu.jsx\");\n/* harmony import */ var _molecules_Loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../molecules/Loader */ \"./src/components/molecules/Loader.jsx\");\n/* harmony import */ var _atoms_NotFound__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../atoms/NotFound */ \"./src/components/atoms/NotFound.jsx\");\n/* harmony import */ var _templates_ViewTemplate__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../templates/ViewTemplate */ \"./src/components/templates/ViewTemplate.jsx\");\n/* harmony import */ var react_cookie__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-cookie */ \"./node_modules/react-cookie/es6/index.js\");\n/* harmony import */ var _atoms_FavoriteButton__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../atoms/FavoriteButton */ \"./src/components/atoms/FavoriteButton.jsx\");\n/* harmony import */ var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @fortawesome/react-fontawesome */ \"./node_modules/@fortawesome/react-fontawesome/index.es.js\");\n/* harmony import */ var _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @fortawesome/free-solid-svg-icons */ \"./node_modules/@fortawesome/free-solid-svg-icons/index.es.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst downloadImage = (url, csrftoken, incrementNumOfDownloads = null, order) => {\n  axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(url, {}, {\n    headers: {\n      \"X-CSRFToken\": csrftoken\n    },\n    responseType: \"blob\"\n  }).then(res => {\n    const blob = new Blob([res.data], {\n      type: res.data.type\n    });\n    const fileName = res.headers[\"content-disposition\"].match(/filename=\"(.*)\"/)[1];\n    Object(file_saver__WEBPACK_IMPORTED_MODULE_2__[\"saveAs\"])(blob, fileName);\n\n    if (incrementNumOfDownloads !== null) {\n      incrementNumOfDownloads(order);\n    }\n  });\n};\n\nclass DetailButton extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dropdownOpen: false\n    };\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    this.setState(prevState => ({\n      dropdownOpen: !prevState.dropdownOpen\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__[\"ButtonDropdown\"], {\n      direction: \"right\",\n      isOpen: this.state.dropdownOpen,\n      toggle: this.toggle\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__[\"DropdownToggle\"], {\n      color: \"light\",\n      className: \"p-0 image-view-detail-button rounded-circle\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__[\"FontAwesomeIcon\"], {\n      icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_16__[\"faBars\"]\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__[\"DropdownMenu\"], {\n      className: \"bold\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__[\"DropdownItem\"], {\n      onClick: () => downloadImage(Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"URLJoin\"])(_modules_env__WEBPACK_IMPORTED_MODULE_3__[\"BASE_URL\"], this.props.url), this.props.csrftoken, this.props.incrementNumOfDownloads, this.props.order)\n    }, \"\\u3053\\u306E\\u753B\\u50CF\\u3092\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\\u3059\\u308B\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__[\"DropdownItem\"], {\n      href: this.props.officialUrl,\n      target: \"_blank\"\n    }, \"\\u516C\\u5F0F\\u30D6\\u30ED\\u30B0\\u3067\\u78BA\\u8A8D\")));\n  }\n\n}\n\nclass ImageView extends _templates_ViewTemplate__WEBPACK_IMPORTED_MODULE_12__[\"default\"] {\n  constructor(props) {\n    super(props);\n    this.imageViewURL = this.props.imageViewURL;\n    this.blogViewURL = this.props.blogViewURL; // cache導入で\"main-image\"というIDが複数存在しうるため\n\n    this.mainImageID = `main-image-${this.props.groupID}_${this.props.blogCt}_${this.props.order}_${this.props.location.key}`; // cache導入で、cache時にthis.props.prevSrcが裏でころころ変化してしまい不具合が起きる。そのため、固定。\n\n    this.prevSrc = this.props.prevSrc;\n    this.imageID = `${props.groupID}_${props.blogCt}_${props.order}`;\n    const isFavoriteGetterSetter = Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"geneIsFavoriteGetterSetter\"])(props.domState.favoriteState, props.domDispatch, this.imageID);\n    this.getIsFavorite = isFavoriteGetterSetter.getIsFavorite;\n    this.setIsFavorite = isFavoriteGetterSetter.setIsFavorite;\n    this.csrftoken = this.props.cookies.get(\"csrftoken\");\n  }\n\n  putView() {\n    axios__WEBPACK_IMPORTED_MODULE_1___default.a.put(this.imageViewURL, {\n      action: \"view\",\n      key: this.state.VIEW_KEY\n    }, {\n      headers: {\n        \"X-CSRFToken\": this.csrftoken\n      }\n    }).then(res => {\n      if (res.data[\"status\"] == \"success\") {\n        this.incrementNumOfViews(this.props.order);\n      }\n    });\n  }\n\n  putDownload() {\n    axios__WEBPACK_IMPORTED_MODULE_1___default.a.put(this.imageViewURL, {\n      action: \"download\",\n      key: this.state.DOWNLOAD_KEY\n    }, {\n      headers: {\n        \"X-CSRFToken\": this.csrftoken\n      }\n    }).then(res => {\n      if (res.data[\"status\"] == \"success\") {\n        this.incrementNumOfDownloads(this.props.order);\n      }\n    });\n  }\n\n  updateMetaVerView(status, blogTitle, blogWriter) {\n    if (status === \"success\") {\n      Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"updateMeta\"])({\n        title: `${blogTitle}(${blogWriter})｜画像詳細`,\n        description: `${blogWriter}のブログ「${blogTitle}」の画像です。`\n      });\n    } else if (status === \"get_image_failed\") {\n      Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"updateMeta\"])({\n        title: \"Not Found Image\",\n        description: \"\"\n      });\n    } else if (status === \"blog_not_found\") {\n      Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"updateMeta\"])({\n        title: \"Not Found Blog\",\n        description: \"\"\n      });\n    } else if (status === \"accepted\") {\n      Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"updateMeta\"])({\n        title: \"画像取得中\",\n        description: \"\"\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"checkNotCached\"])(this.props)) {\n      // image が view されたとき\n      if (prevState.status !== this.state.status && this.state.status === \"success\") {\n        if (this.state.VIEW_KEY) {\n          const imageID = `${this.props.groupID}_${this.props.blogCt}_${this.props.order}_${this.props.location.key}`;\n\n          if (!this.props.domState.accessedImages.includes(imageID)) {\n            this.putView();\n            this.props.domDispatch({\n              type: \"ACCESS_TO_IMAGE\",\n              imageID: imageID\n            });\n          }\n        }\n\n        const mainImage = document.getElementById(this.mainImageID); // 長押し検出eventをadd\n\n        Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"addLongPressEventListeners\"])(mainImage, () => this.putDownload()); // load original image\n\n        let imageObject = new Image();\n        imageObject.onload = setTimeout(() => {\n          if (mainImage !== null) {\n            mainImage.removeAttribute(\"srcset\");\n            mainImage.setAttribute(\"src\", imageObject.src);\n          }\n        }, _modules_env__WEBPACK_IMPORTED_MODULE_3__[\"DELAY_TIME\"]);\n        const image = this.state.images[this.props.order];\n        imageObject.src = image.src[\"originals\"]; // init isFavorite\n\n        this.props.domDispatch({\n          type: \"INIT_FAVORITE\",\n          imageID: this.imageID,\n          isFavorite: this.state.images[this.props.order].isFavorite\n        });\n      } // blogViewURL, imageViewURLの更新\n\n\n      if (prevProps.blogViewURL !== this.props.blogViewURL || prevProps.imageViewURL !== this.props.imageViewURL) {\n        this.blogViewURL = this.props.blogViewURL;\n        this.imageViewURL = this.props.imageViewURL;\n      } // update meta\n\n\n      if (this.props.location !== prevProps.location) {\n        this.updateMetaVerView(this.state.status, this.state.title, this.state.writer.name);\n      } // accepted\n\n\n      super.componentDidUpdate(prevProps, prevState);\n    }\n  }\n\n  render() {\n    let imageView;\n    let imageViewText;\n    let imageAlt;\n\n    if (this.state.status === \"\") {\n      imageViewText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_Loader__WEBPACK_IMPORTED_MODULE_10__[\"HorizontalLoader\"], null);\n    } else if (this.state.status === \"accepted\") {\n      imageView = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_Loader__WEBPACK_IMPORTED_MODULE_10__[\"BlogViewLoader\"], {\n        progress: this.state.progress,\n        loadingImageUrl: _modules_env__WEBPACK_IMPORTED_MODULE_3__[\"LOAD_IMG_URL\"]\n      });\n    } else if (this.state.status === \"blog_not_found\") {\n      imageView = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"py-0 py-sm-5\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atoms_NotFound__WEBPACK_IMPORTED_MODULE_11__[\"NotFoundMessage\"], {\n        type: \"blogFailed\",\n        margin: true\n      }));\n    } else if (this.state.status === \"get_image_failed\") {\n      imageView = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"py-0 py-sm-5\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atoms_NotFound__WEBPACK_IMPORTED_MODULE_11__[\"NotFoundMessage\"], {\n        type: \"imageFailed\",\n        margin: true\n      }));\n    } else if (this.state.status === \"success\") {\n      const image = this.state.images[this.props.order];\n      imageViewText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"ml-1 ml-sm-3 ml-lg-4 image-view-text\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"d-flex justify-content-between mt-1 mt-sm-3 mt-lg-2 mb-2 image-view-header\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"d-flex align-items-center p-0\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        id: \"num-of-image-views-icon\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__[\"FontAwesomeIcon\"], {\n        icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_16__[\"faEye\"],\n        style: {\n          color: \"gray\"\n        }\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_info_BlogViewInfo__WEBPACK_IMPORTED_MODULE_6__[\"ViewTooltip\"], {\n        target: \"num-of-image-views-icon\",\n        title: \"\\u3053\\u306E\\u753B\\u50CF\\u306E\\u95B2\\u89A7\\u6570\"\n      }), \"\\u00A0\", image ? image.numOfViews : 0, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"ml-3\",\n        id: \"num-of-image-downloads-icon\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__[\"FontAwesomeIcon\"], {\n        icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_16__[\"faDownload\"],\n        style: {\n          color: \"gray\"\n        }\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_info_BlogViewInfo__WEBPACK_IMPORTED_MODULE_6__[\"ViewTooltip\"], {\n        target: \"num-of-image-downloads-icon\",\n        title: \"\\u3053\\u306E\\u753B\\u50CF\\u306E\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\\u6570\"\n      }), \"\\u00A0\", image ? image.numOfDownloads : 0), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"d-flex justify-content-end\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atoms_FavoriteButton__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n        group: this.props.group,\n        groupID: this.props.groupID,\n        blogCt: this.props.blogCt,\n        order: this.props.order // getIsFavorite={this.getIsFavorite}\n        ,\n        isFavorite: this.getIsFavorite(),\n        setIsFavorite: this.setIsFavorite\n      }), !_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"isMobile\"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(reactstrap__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n        className: \"rounded-circle p-0 image-view-download-button \" + this.props.group,\n        onClick: () => {\n          image && downloadImage(Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"URLJoin\"])(_modules_env__WEBPACK_IMPORTED_MODULE_3__[\"BASE_URL\"], image.url), this.csrftoken, this.incrementNumOfDownloads, this.props.order);\n        },\n        id: \"image-view-download-button\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_info_BlogViewInfo__WEBPACK_IMPORTED_MODULE_6__[\"ViewTooltip\"], {\n        target: \"image-view-download-button\",\n        title: \"\\u3053\\u306E\\u753B\\u50CF\\u3092\\u30C0\\u30A6\\u30F3\\u30ED\\u30FC\\u30C9\"\n      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"hr\", {\n        className: \"mt-2 mt-lg-3 mb-4 mr-3\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"image-view-body\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"d-flex mb-3\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__[\"FontAwesomeIcon\"], {\n        className: \"mr-3\",\n        icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_16__[\"faLink\"],\n        id: \"image-view-blog-icon\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_info_BlogViewInfo__WEBPACK_IMPORTED_MODULE_6__[\"ViewTooltip\"], {\n        target: \"image-view-blog-icon\",\n        title: \"\\u63B2\\u8F09\\u30D6\\u30ED\\u30B0\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[\"Link\"], {\n        to: this.state.url,\n        className: \"image-view-blog-title\"\n      }, this.state.title.length > 50 || _modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"isSmp\"] ? this.state.title.length > 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", {\n        className: \"smaller\"\n      }, this.state.title) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", {\n        className: \"smaller\"\n      }, \"\\u00A0\") : this.state.title.length > 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, this.state.title) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"\\u00A0\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"d-flex align-items-center\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__[\"FontAwesomeIcon\"], {\n        className: \"mr-3\",\n        icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_16__[\"faPencilAlt\"],\n        id: \"image-view-writer-icon\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_info_BlogViewInfo__WEBPACK_IMPORTED_MODULE_6__[\"ViewTooltip\"], {\n        target: \"image-view-writer-icon\",\n        title: \"\\u30D6\\u30ED\\u30B0\\u3092\\u66F8\\u3044\\u305F\\u30E1\\u30F3\\u30D0\\u30FC\"\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_atoms_WriterCard__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        writer: this.state.writer\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"image-view-footer mt-4 mt-sm-5 mt-lg-2 mb-2\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        className: \"btn btn-primary rounded-pill image-view-to-official-button py-0 \" + (_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"isSmp\"] ? \"px-2\" : \"\"),\n        id: \"image-view-to-official-button\",\n        role: \"button\",\n        target: \"_blank\",\n        href: this.state.officialUrl\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h6\", {\n        className: \"omit-title m-0 image-view-to-official-title\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_15__[\"FontAwesomeIcon\"], {\n        icon: _fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_16__[\"faExternalLinkAlt\"]\n      }), \" \", this.props.group + \"zaka46.com\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_info_BlogViewInfo__WEBPACK_IMPORTED_MODULE_6__[\"ViewTooltip\"], {\n        target: \"image-view-to-official-button\",\n        title: \"\\u516C\\u5F0F\\u30D6\\u30ED\\u30B0\\u3067\\u78BA\\u8A8D\"\n      }), _modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"isMobile\"] ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_molecules_MobileMenu__WEBPACK_IMPORTED_MODULE_9__[\"MobileBottomMenu\"], {\n        id: \"image-view-card-menu\",\n        type: \"imageViewCard\",\n        title: `${this.state.title}（${this.state.writer.name}）`,\n        url: this.state.url,\n        officialUrl: this.state.officialUrl,\n        writer: this.state.writer\n      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DetailButton, {\n        officialUrl: this.state.officialUrl,\n        url: image && image.url,\n        incrementNumOfDownloads: this.incrementNumOfDownloads,\n        order: this.props.order,\n        csrftoken: this.csrftoken\n      })));\n      imageAlt = Object(_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"generateAlt\"])(this.props.group, this.state.writer.name);\n    }\n\n    let src;\n\n    if (this.prevSrc) {\n      src = this.prevSrc[\"250x\"];\n    } else {\n      if (this.state.status === \"success\") {\n        const image = this.state.images[this.props.order];\n        src = image.src[\"250x\"];\n      } else {\n        src = null;\n      }\n    }\n\n    if (_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"isSmp\"]) {\n      imageView = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n        className: \"image-of-image-view smp\",\n        src: src,\n        id: this.mainImageID,\n        alt: imageAlt\n      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"container mt-3 text-muted\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"alert alert-success\",\n        role: \"alert\",\n        style: {\n          borderRadius: \"1rem\",\n          fontSize: 14\n        }\n      }, \"\\u753B\\u50CF\\u3092\\u9577\\u62BC\\u3057\\u3057\\u3066\\u4FDD\\u5B58\\u3092\\u304A\\u3053\\u306A\\u3063\\u3066\\u304F\\u3060\\u3055\\u3044\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"card otapick-card2 mx-auto image-view smp \" + this.props.group\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"card-body\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"p-0\"\n      }, imageViewText)))));\n    } else {\n      let srcSet;\n\n      if (this.prevSrc) {\n        srcSet = `${this.prevSrc[\"250x\"]} 1x, ${this.prevSrc[\"500x\"]} 2x`;\n      } else {\n        if (this.state.status === \"success\") {\n          const image = this.state.images[this.props.order];\n          srcSet = `${image.src[\"250x\"]} 1x, ${image.src[\"500x\"]} 2x`;\n        } else {\n          srcSet = null;\n        }\n      }\n\n      imageView = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"card otapick-card2 mx-auto image-view \" + (_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"isMobile\"] ? \"mb-3 mt-1 \" : \"my-4 \") + this.props.group\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"card-body\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"row m-0\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"col-12 col-lg-6 p-0\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"img\", {\n        className: \"image-of-image-view\",\n        src: src,\n        id: this.mainImageID,\n        srcSet: srcSet,\n        alt: imageAlt,\n        onContextMenu: e => !_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"isMobile\"] ? e.preventDefault() : \"\",\n        onMouseDown: e => !_modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"isMobile\"] ? e.preventDefault() : \"\"\n      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n        className: \"col-12 col-lg-6 p-0\"\n      }, imageViewText))));\n    }\n\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, _modules_utils__WEBPACK_IMPORTED_MODULE_5__[\"isSmp\"] ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, imageView) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"container mt-3 text-muted\"\n    }, imageView));\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[\"withRouter\"])(Object(react_cookie__WEBPACK_IMPORTED_MODULE_13__[\"withCookies\"])(ImageView)));\n\n//# sourceURL=webpack:///./src/components/organisms/ImageView.jsx?");

/***/ }),

/***/ "./src/components/templates/ViewTemplate.jsx":
/*!***************************************************!*\
  !*** ./src/components/templates/ViewTemplate.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/utils */ \"./src/components/modules/utils.js\");\n/* harmony import */ var _modules_env__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/env */ \"./src/components/modules/env.js\");\n/* harmony import */ var _modules_axios__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/axios */ \"./src/components/modules/axios.js\");\n\n\n\n\n\n\n\nclass ViewTemplate extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n  constructor(props) {\n    super(props);\n    const groupID = props.match.params.groupID;\n    const blogCt = props.match.params.blogCt;\n    this.initState = {\n      group: Object(_modules_utils__WEBPACK_IMPORTED_MODULE_2__[\"getGroup\"])(groupID),\n      groupID: groupID,\n      blogCt: blogCt,\n      title: \"\",\n      postDate: \"\",\n      writer: {},\n      numOfViews: 0,\n      numOfDownloads: 0,\n      officialUrl: \"\",\n      url: \"\",\n      images: [],\n      status: \"\",\n      progress: 0,\n      loadingImageUrl: \"\",\n      VIEW_KEY: \"\",\n      DOWNLOAD_KEY: \"\"\n    };\n    this.state = this.initState;\n    this.blogViewURL = Object(_modules_utils__WEBPACK_IMPORTED_MODULE_2__[\"URLJoin\"])(_modules_env__WEBPACK_IMPORTED_MODULE_3__[\"BASE_URL\"], \"blog/\", this.state.groupID, this.state.blogCt);\n    this.incrementNumOfViews = this.incrementNumOfViews.bind(this);\n    this.incrementNumOfDownloads = this.incrementNumOfDownloads.bind(this);\n  }\n\n  getBlog() {\n    setTimeout(() => {\n      // authAxios(this.props.authState.token)\n      axios__WEBPACK_IMPORTED_MODULE_1___default.a.get(this.blogViewURL).then(res => {\n        let blogData = {};\n\n        if (!this.state.status && res.data[\"status\"] !== \"blog_not_found\") {\n          blogData = {\n            title: res.data[\"title\"],\n            postDate: res.data[\"post_date\"],\n            writer: res.data[\"writer\"],\n            numOfViews: res.data[\"num_of_views\"],\n            numOfDownloads: res.data[\"num_of_downloads\"],\n            officialUrl: res.data[\"official_url\"],\n            url: res.data[\"url\"]\n          };\n        }\n\n        if (res.data[\"status\"] === \"success\") {\n          // order error\n          if (typeof this.props.order !== \"undefined\" && res.data[\"images\"].length <= this.props.order) {\n            this.setState(Object.assign({\n              status: \"get_image_failed\"\n            }, blogData));\n            this.updateMetaVerView(\"get_image_failed\");\n          } else {\n            this.setState(Object.assign({\n              images: res.data[\"images\"].map(image => Object(_modules_utils__WEBPACK_IMPORTED_MODULE_2__[\"cvtKeyFromSnakeToCamel\"])(image)),\n              status: \"success\",\n              VIEW_KEY: res.data[\"VIEW_KEY\"],\n              DOWNLOAD_KEY: res.data[\"DOWNLOAD_KEY\"]\n            }, blogData));\n            this.updateMetaVerView(\"success\", blogData.title, blogData.writer.name);\n          }\n        } else if (res.data[\"status\"] === \"start_download\" || res.data[\"status\"] === \"downloading\") {\n          this.setState(Object.assign({\n            progress: res.data[\"progress\"],\n            loadingImageUrl: res.data[\"loading_image\"],\n            status: \"accepted\"\n          }, blogData));\n          this.updateMetaVerView(\"accepted\");\n        } else if (res.data[\"status\"] === \"blog_not_found\") {\n          this.setState({\n            status: \"blog_not_found\",\n            title: \"ブログが見つかりませんでした。\"\n          });\n          this.updateMetaVerView(\"blog_not_found\");\n        } else if (res.data[\"status\"] === \"get_image_failed\") {\n          this.setState(Object.assign({\n            status: \"get_image_failed\"\n          }, blogData));\n          this.updateMetaVerView(\"get_image_failed\");\n        }\n      }).catch(err => {\n        console.log(err);\n      }).finally(() => {\n        Object(_modules_utils__WEBPACK_IMPORTED_MODULE_2__[\"gtagTo\"])(this.props.location.pathname);\n      });\n    }, _modules_env__WEBPACK_IMPORTED_MODULE_3__[\"DELAY_TIME\"]);\n  }\n\n  incrementNumOfViews(order = -1) {\n    if (order < 0) {\n      // blog\n      this.setState(prevState => ({\n        numOfViews: prevState.numOfViews + 1\n      }));\n    } else {\n      // image\n      this.setState(prevState => {\n        let images = prevState.images;\n        if (images.length > order) images[Number(order)].numOfViews += 1;\n        return {\n          images: images\n        };\n      });\n    }\n  }\n\n  incrementNumOfDownloads(order = -1, num = 1) {\n    if (order < 0) {\n      // 総DL数\n      this.setState(prevState => ({\n        numOfDownloads: prevState.numOfDownloads + num\n      }));\n    } else {\n      // DL数\n      this.setState(prevState => {\n        let images = prevState.images;\n        if (images.length > order) images[Number(order)].numOfDownloads += num;\n        return {\n          images: images\n        };\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.getBlog();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // blog の読み込みが開始したとき\n    if (prevState.status !== this.state.status && this.state.status === \"accepted\") {\n      this.reqCount = 0;\n      this.intervalReqID = setInterval(() => {\n        if (this.reqCount++ <= 20) {\n          this.getBlog();\n        } else {\n          this.setState({\n            status: \"get_image_failed\"\n          });\n          clearInterval(this.intervalReqID);\n        }\n      }, 1000);\n    } // blog の読み込みが終了したとき\n\n\n    if (prevState.status !== this.state.status && prevState.status === \"accepted\") {\n      clearInterval(this.intervalReqID);\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalReqID);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ViewTemplate);\n\n//# sourceURL=webpack:///./src/components/templates/ViewTemplate.jsx?");

/***/ })

}]);