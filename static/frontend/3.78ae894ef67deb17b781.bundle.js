(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./node_modules/query-string/index.js":function(e,t,r){"use strict";var o=r("./node_modules/strict-uri-encode/index.js"),n=r("./node_modules/object-assign/index.js");function s(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,o){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=r):o[e]=r};case"bracket":return function(e,r,o){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],r):o[e]=[r]:o[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=n({arrayFormat:"none"},t)),o=Object.create(null);return"string"!=typeof e?o:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:decodeURIComponent(s),r(decodeURIComponent(n),s,o)})),Object.keys(o).sort().reduce((function(e,t){var r=o[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))):o},t.stringify=function(e,t){var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,o){return null===r?[s(t,e),"[",o,"]"].join(""):[s(t,e),"[",s(o,e),"]=",s(r,e)].join("")};case"bracket":return function(t,r){return null===r?s(t,e):[s(t,e),"[]=",s(r,e)].join("")};default:return function(t,r){return null===r?s(t,e):[s(t,e),"=",s(r,e)].join("")}}}(t=n({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(o){var n=e[o];if(void 0===n)return"";if(null===n)return s(o,t);if(Array.isArray(n)){var i=[];return n.slice().forEach((function(e){void 0!==e&&i.push(r(o,e,i.length))})),i.join("&")}return s(o,t)+"="+s(n,t)})).filter((function(e){return e.length>0})).join("&"):""}},"./node_modules/react-infinite-scroller/dist/InfiniteScroll.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=r("./node_modules/react/index.js"),s=a(n),i=a(r("./node_modules/prop-types/index.js"));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.scrollListener=r.scrollListener.bind(r),r.eventListenerOptions=r.eventListenerOptions.bind(r),r.mousewheelListener=r.mousewheelListener.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,r=this.getParentElement(e),o=void 0;if(this.props.useWindow){var n=document.documentElement||document.body.parentNode||document.body,s=void 0!==t.pageYOffset?t.pageYOffset:n.scrollTop;o=this.props.isReverse?s:this.calculateOffset(e,s)}else o=this.props.isReverse?r.scrollTop:e.scrollHeight-r.scrollTop-r.clientHeight;o<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),r=t.children,o=t.element,n=t.hasMore,i=(t.initialLoad,t.isReverse),a=t.loader,c=(t.loadMore,t.pageStart,t.ref),l=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));l.ref=function(t){e.scrollComponent=t,c&&c(t)};var u=[r];return n&&(a?i?u.unshift(a):u.push(a):this.defaultLoader&&(i?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),s.default.createElement(o,l,u)}}]),t}(n.Component);c.propTypes={children:i.default.node.isRequired,element:i.default.node,hasMore:i.default.bool,initialLoad:i.default.bool,isReverse:i.default.bool,loader:i.default.node,loadMore:i.default.func.isRequired,pageStart:i.default.number,ref:i.default.func,getScrollParent:i.default.func,threshold:i.default.number,useCapture:i.default.bool,useWindow:i.default.bool},c.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=c,e.exports=t.default},"./node_modules/react-infinite-scroller/index.js":function(e,t,r){e.exports=r("./node_modules/react-infinite-scroller/dist/InfiniteScroll.js")},"./node_modules/strict-uri-encode/index.js":function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},"./src/components/organisms/List.jsx":function(e,t,r){"use strict";r.d(t,"b",(function(){return b}));var o=r("./node_modules/react/index.js"),n=r.n(o),s=r("./node_modules/react-router-dom/esm/react-router-dom.js"),i=r("./node_modules/react-infinite-scroller/index.js"),a=r.n(i),c=r("./node_modules/react-masonry-component/lib/index.js"),l=r.n(c),u=r("./src/components/molecules/Loader.jsx"),d=r("./src/utils/index.js"),p=r("./src/components/atoms/NotFound.jsx"),f=r("./src/contexts/DomContext.jsx"),h=r("./src/constants/env.js");const m=Object(s.withRouter)(e=>{const{hasMore:t,status:r,page:s,urlExcludePage:i,isLoading:c,request:m,topComponent:b,NotFoundComponent:g,children:j}=e,v=Object(f.c)();Object(o.useEffect)(()=>{t||v({type:"APPLY_SHOW_FOOTER",location:e.location})},[t]);return n.a.createElement(n.a.Fragment,null,b,n.a.createElement(a.a,{hasMore:t,loadMore:()=>{t&&!c&&m({url:Object(d.a)(i,"?page="+s)})},initialLoad:!1,loader:n.a.createElement("div",{key:0,style:{paddingBottom:d.r?h.d:0}},n.a.createElement(u.a,null)),className:"mb-5",threshold:500},"success"===r&&n.a.createElement(l.a,{options:{itemSelector:".grid-item",transitionDuration:0,stagger:0},disableImagesLoaded:!1},j),"blog_not_found"===r&&n.a.createElement("div",null,n.a.createElement(p.c,{type:"blogFailed",margin:!0})),"image_not_found"===r&&(void 0===g?n.a.createElement("div",null,n.a.createElement(p.c,{type:"imageFailed",margin:!0})):g)))});t.a=m;const b=()=>{const[e,t]=Object(o.useState)([]),[r,n]=Object(o.useState)(""),s=Object(o.useRef)(!0),i=Object(o.useRef)(1),[a]=Object(o.useState)(Object(d.j)());return[e,r=>{t([...e,...r])},r,n,s,i,a]}},"./src/components/templates/ImageListTemplate/organisms/ImageList.jsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var o=r("./node_modules/react/index.js"),n=r.n(o),s=r("./node_modules/react-router-dom/esm/react-router-dom.js"),i=r("./src/utils/index.js"),a=r("./src/constants/env.js"),c=r("./src/components/molecules/ImageCard.jsx"),l=r("./src/hooks/useAxios.js"),u=r("./src/components/organisms/List.jsx"),d=r("./src/contexts/AuthContext.jsx"),p=r("./src/components/atoms/NotFound.jsx"),f=r("./src/contexts/ProfileContext.jsx"),h=r("./src/hooks/useList.js"),m=r("./src/hooks/useView.js");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}t.b=e=>{var t;const{topComponent:r}=e,o=Object(f.d)();return n.a.createElement(g,b({},e,{additionalQParams:null!=o&&null!==(t=o.profile)&&void 0!==t&&t.favGroups?["?groups=",o.profile.favGroups.map(e=>e.groupId)]:[],render:(e,t,o,s,a,l,d,p,f,h,m)=>n.a.createElement(u.a,{hasMore:e,status:t,page:o,urlExcludePage:s,isLoading:a,request:l,topComponent:p&&"success"===t&&r,NotFoundComponent:m},d.map(({groupID:e,blogCt:t,blogTitle:r,src:o,url:s,blogUrl:a,officialUrl:l,writer:u,order:d,isFavorite:p,width:h,height:m},b)=>{const g="grid-item "+(f?"col-6 col-md-4 col-lg-3 col-xl-2 px-1 px-sm-2 "+(i.r?"my-1 ":"my-3 "):"col-6 col-md-4 col-lg-3 px-1 px-sm-2 "+(i.r?"my-1 ":"my-3 "));return n.a.createElement("div",{key:b},n.a.createElement("div",{className:g},n.a.createElement(c.a,{id:b,groupId:e,groupKey:Object(i.m)(e),blogCt:t,blogTitle:r,srcCollection:o,urlPath:s,blogUrl:a,officialUrl:l,writer:u,order:d,initIsFavorite:p,width:h,height:m})))}))}))};const g=Object(s.withRouter)(e=>{const{type:t,render:r,additionalQParams:s}=e,{groupId:c,blogCt:f,order:b}=Object(m.b)(),{ct:g}=Object(h.a)(),{orderFormat:j}=Object(h.b)("IMAGES");let v,O,y=!1,w=!1;switch(t){case"RELATED_IMAGES":v=Object(i.a)(a.b,"relatedImages/",c,f,b),y=!0,w=!0;break;case"FAVORITE_IMAGES":v=Object(i.a)(a.b,"favorites/"),y=!0,w=!0,O=n.a.createElement("div",{className:i.t?"mx-1":"mx-3"},n.a.createElement(p.c,{type:"favoriteImage",margin:!0}));break;case"HOME":v=Object(i.a)(a.b,"home/");break;default:v=Object(i.a)(a.b,"images/",c,g)}const[L,x,_,E,S,k,C]=Object(u.b)(),P=Object(i.a)(v,j&&"?sort="+j,C&&"?random_seed="+C,...s||[]),[I,M]=Object(o.useState)(!1),T=Object(d.c)(),{isLoading:R,request:F}=Object(l.c)(Object(i.a)(P,"?page="+k.current),"get",{thenCallback:e=>{if(e.data.length>0){const t=e.data.map(e=>({groupID:e.blog.group_id,blogCt:e.blog.blog_ct,blogTitle:e.blog.title,src:e.image.src,url:e.image.url,blogUrl:e.blog.url,officialUrl:e.blog.official_url,writer:e.blog.writer,order:e.image.order,isFavorite:e.image.is_favorite,width:e.image.width,height:e.image.height}));x(t),E("success"),e.data.length<20&&(S.current=!1)}else 1==k.current?(S.current=!1,E("image_not_found")):S.current=!1;M&&M(!0)},catchCallback:e=>{404===e.response.status&&(S.current=!1,E("image_not_found"))},finallyCallback:()=>{k.current++},didRequestCallback:e=>{},shouldRequestDidMount:!0,token:T.token});return r(S.current,_,k.current,P,R,F,L,I,y,w,O)})},"./src/hooks/useList.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return u}));var o=r("./node_modules/react/index.js"),n=r("./node_modules/react-router/esm/react-router.js"),s=r("./node_modules/query-string/index.js"),i=r.n(s),a=r("./src/utils/index.js");const c=()=>{var e,t;const r=Object(n.n)(),[s]=Object(o.useState)(null==r||null===(e=r.params)||void 0===e?void 0:e.groupId),[i]=Object(o.useState)(null==r||null===(t=r.params)||void 0===t?void 0:t.ct),[c]=Object(o.useState)(Object(a.m)(s));return{groupId:s,ct:i,groupKey:c}},l=e=>{const t=Object(n.l)(),r=i.a.parse(t.search);let s="";switch(e){case"BLOGS":s="newer_post";break;case"IMAGES":s="recommend";break;default:throw new Error(`the type "${e} is unexpected."`)}const[a]=Object(o.useState)(void 0===r.sort?s:r.sort),[c]=Object(o.useState)(void 0===r.keyword?"":r.keyword),[l]=Object(o.useState)(void 0===r.post?"":r.post);return{orderFormat:a,narrowingKeyword:c,narrowingPost:l}},u=()=>{const e=Object(n.l)(),t=Object(n.n)(),r=Object(n.k)();return o=>{const n=i.a.parse(e.search);o.sort||(delete n.keyword,delete n.post);const s=Object.assign(n,o);let c="";Object.keys(s).forEach((e,t)=>{c+=0==t?`?${e}=${s[e]}`:`&${e}=${s[e]}`}),r.push(Object(a.a)(t.url,c))}}},"./src/pages/ImageListPage/useImageListInfo.jsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var o=r("./node_modules/react/index.js"),n=r("./node_modules/react-router/esm/react-router.js"),s=r("./src/constants/env.js"),i=r("./src/hooks/useAxios.js"),a=r("./src/hooks/useList.js"),c=r("./src/utils/index.js"),l=r("./src/hooks/useMeta.js");const u=e=>{const{groupId:t,ct:r}=Object(a.a)(),{orderFormat:u}=Object(a.b)("IMAGES"),[d,p]=Object(o.useState)(""),[f,h]=Object(o.useState)(""),[m,b]=Object(o.useState)(0),[g,j]=Object(o.useState)(""),v=Object(n.l)().search,{setMeta:O}=Object(l.a)(),{request:y}=Object(i.c)(Object(c.a)(s.b,"images/info/",t,r,v),"get",{thenCallback:(t,r)=>{r.status?(p("画像が見つかりませんでした。"),b(0),h("not_found"),e?O(s.n,""):O("Not Found Image",s.o)):(p(r.title),b(r.numOfHit),h("success"),e?O(s.n,""):O(r.metaTitle+"の画像・写真一覧",s.o))}});return Object(o.useEffect)(()=>{j((e=>{switch(e){case"recommend":return"おすすめ順";case"newer_post":return"新着順";case"older_post":return"古い順";case"popularity":return"人気順";case"dl":return"DL順";case"view":return"閲覧数順";default:return""}})(u)),y()},[t,r,u]),{infoTitle:d,infoStatus:f,numOfHit:m,sortButtonTitle:g}}}}]);