(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./node_modules/query-string/index.js":function(e,t,o){"use strict";var r=o("./node_modules/strict-uri-encode/index.js"),s=o("./node_modules/object-assign/index.js");function n(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var o=function(e){var t;switch(e.arrayFormat){case"index":return function(e,o,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=o):r[e]=o};case"bracket":return function(e,o,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],o):r[e]=[o]:r[e]=o};default:return function(e,t,o){void 0!==o[e]?o[e]=[].concat(o[e],t):o[e]=t}}}(t=s({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),s=t.shift(),n=t.length>0?t.join("="):void 0;n=void 0===n?null:decodeURIComponent(n),o(decodeURIComponent(s),n,r)})),Object.keys(r).sort().reduce((function(e,t){var o=r[t];return Boolean(o)&&"object"==typeof o&&!Array.isArray(o)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(o):e[t]=o,e}),Object.create(null))):r},t.stringify=function(e,t){var o=function(e){switch(e.arrayFormat){case"index":return function(t,o,r){return null===o?[n(t,e),"[",r,"]"].join(""):[n(t,e),"[",n(r,e),"]=",n(o,e)].join("")};case"bracket":return function(t,o){return null===o?n(t,e):[n(t,e),"[]=",n(o,e)].join("")};default:return function(t,o){return null===o?n(t,e):[n(t,e),"=",n(o,e)].join("")}}}(t=s({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var s=e[r];if(void 0===s)return"";if(null===s)return n(r,t);if(Array.isArray(s)){var a=[];return s.slice().forEach((function(e){void 0!==e&&a.push(o(r,e,a.length))})),a.join("&")}return n(r,t)+"="+n(s,t)})).filter((function(e){return e.length>0})).join("&"):""}},"./node_modules/react-infinite-scroller/dist/InfiniteScroll.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),s=o("./node_modules/react/index.js"),n=i(s),a=i(o("./node_modules/prop-types/index.js"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.scrollListener=o.scrollListener.bind(o),o.eventListenerOptions=o.eventListenerOptions.bind(o),o.mousewheelListener=o.mousewheelListener.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,o=this.getParentElement(e),r=void 0;if(this.props.useWindow){var s=document.documentElement||document.body.parentNode||document.body,n=void 0!==t.pageYOffset?t.pageYOffset:s.scrollTop;r=this.props.isReverse?n:this.calculateOffset(e,n)}else r=this.props.isReverse?o.scrollTop:e.scrollHeight-o.scrollTop-o.clientHeight;r<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=o.scrollHeight,this.beforeScrollTop=o.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),o=t.children,r=t.element,s=t.hasMore,a=(t.initialLoad,t.isReverse),i=t.loader,l=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var o={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,l&&l(t)};var u=[o];return s&&(i?a?u.unshift(i):u.push(i):this.defaultLoader&&(a?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),n.default.createElement(r,c,u)}}]),t}(s.Component);l.propTypes={children:a.default.node.isRequired,element:a.default.node,hasMore:a.default.bool,initialLoad:a.default.bool,isReverse:a.default.bool,loader:a.default.node,loadMore:a.default.func.isRequired,pageStart:a.default.number,ref:a.default.func,getScrollParent:a.default.func,threshold:a.default.number,useCapture:a.default.bool,useWindow:a.default.bool},l.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},"./node_modules/react-infinite-scroller/index.js":function(e,t,o){e.exports=o("./node_modules/react-infinite-scroller/dist/InfiniteScroll.js")},"./node_modules/strict-uri-encode/index.js":function(e,t,o){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},"./src/components/atoms/BackButton.jsx":function(e,t,o){"use strict";var r=o("./node_modules/react/index.js"),s=o.n(r),n=o("./node_modules/react-router/esm/react-router.js"),a=o("./node_modules/reactstrap/es/index.js"),i=o("./node_modules/@fortawesome/react-fontawesome/index.es.js"),l=o("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js"),c=o("./src/utils/index.js");class u extends s.a.Component{constructor(...e){var t;return t=super(...e),this.goBack=()=>{c.q===this.props.location.key?this.props.history.push("/"):history.back()},t}render(){return this.props.mini?s.a.createElement(a.a,{className:"rounded-circle transparent-button-mobile "+(c.r?"mobile ":" ")+(this.props.className?this.props.className:""),id:"mobile-back-button",onClick:this.goBack},s.a.createElement(i.a,{icon:l.h})):this.props.fixed?s.a.createElement("button",{onClick:this.goBack,className:"btn btn-light rounded-circle p-0 otapick-back-button-fixed shadow-sm "+(this.props.className?this.props.className:"")},s.a.createElement(i.a,{icon:l.b,style:{color:"gray"}})):s.a.createElement("button",{onClick:this.goBack,className:"btn btn-light rounded-circle p-0 otapick-back-button border shadow-sm "+(this.props.className?this.props.className:"")},s.a.createElement(i.a,{icon:l.b,style:{color:"gray"}}))}}t.a=Object(n.o)(u)},"./src/components/molecules/Headline.jsx":function(e,t,o){"use strict";var r=o("./node_modules/react/index.js"),s=o.n(r),n=o("./node_modules/reactstrap/es/index.js"),a=o("./node_modules/react-router-dom/esm/react-router-dom.js"),i=o("./node_modules/axios/index.js"),l=o.n(i),c=o("./node_modules/@fortawesome/react-fontawesome/index.es.js"),u=o("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js"),p=o("./src/components/atoms/BackButton.jsx"),d=o("./src/utils/index.js"),m=o("./src/constants/env.js"),h=o("./src/contexts/DomContext.jsx"),f=o("./src/components/atoms/LinkButton.jsx"),b=o("./src/components/atoms/TooltipComponent.jsx"),g=o("./src/contexts/ProfileContext.jsx"),y=o("./src/components/molecules/DropdownMobileFriendly.jsx");function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}class j extends s.a.Component{getChangeTypeUrl(e,t,o){return"blogs"===e?Object(d.a)("/images/",t,o):"images"===e?Object(d.a)("/blogs/",t,o):void 0}render(){const e="blogs"===this.props.type?"画像一覧に切り替えます":"ブログ一覧に切り替えます",t="blogs"===this.props.type?s.a.createElement(c.a,{icon:u.w}):s.a.createElement(c.a,{icon:u.y});return s.a.createElement(b.a,{title:e,placement:"bottom"},s.a.createElement(f.a,{to:this.getChangeTypeUrl(this.props.type,this.props.groupID,this.props.ct),className:"rounded-pill type-change-button ml-1",id:this.props.id},s.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{color:"gray",fontSize:20}},s.a.createElement(c.a,{className:"mr-1 my-0",icon:u.o,style:{fontSize:12}}),t)))}}class E extends s.a.Component{constructor(e){super(e),this.getModeSelectButtonGroup=e=>{const t=({children:e})=>s.a.createElement(n.c,{size:"lg",className:"mt-3 mt-lg-0"},e);if("blogs"===this.props.type||"images"===this.props.type){const o=s.a.createElement(s.a.Fragment,null,s.a.createElement(n.a,{className:"rounded-pill mode-select-button "+(e?"fixed ":" ")+("recommend"===this.props.mode?"active":""),onClick:()=>this.props.history.push(`/${this.props.type}/`)},s.a.createElement("b",null,"おすすめ")),Object(d.A)(this.props.profileState.profile.favGroups).map(t=>s.a.createElement(n.a,{key:t.id,className:`rounded-pill mode-select-button ${t.key} `+(e?"fixed ":" ")+(d.r||e?" ":"d-flex align-items-center ")+(this.props.mode===t.key?"active":""),onClick:()=>this.props.history.push(`/${this.props.type}/${t.id}/`)},s.a.createElement("b",null,t.name),t.isActive&&s.a.createElement(y.a,{id:`mode-select-${this.props.type}-${t.key}`,directionOnlyPc:"down",buttonClass:`rounded-circle mode-select-dropdown-button ${e?"fixed p-0":""} ${t.key}`,buttonContainerClass:`mode-select-dropdown-button-super ${e?"fixed":""} btn-group`,dropdownMenuClassOnlyPc:"mode-select-dropdown-menu-members",menuSettings:[..."sakura"===t.key&&this.props.profileState.profile.favMemberSakura||"hinata"===t.key&&this.props.profileState.profile.favMemberHinata?(()=>{let e=[{type:"TITLE",label:"推しメン"}];return["favMemberSakura","favMemberHinata"].forEach(t=>{this.props.profileState.profile[t]&&(e=[...e,{type:"LINK",pathname:`/${this.props.type}/${m.m[this.props.profileState.profile[t].belongingGroup].id}/${this.props.profileState.profile[t].ct}/`,label:this.props.profileState.profile[t].fullKanji}])}),e})():[],...(()=>{let e=[];for(const[o,r]of this.state.membersCollection[t.id].entries())e=[...e,{type:"TITLE",label:o+1+"期生"}],e=[...e,...r.map(({url:e,full_kanji:t})=>({type:"LINK",pathname:e[this.props.type],label:t}))];return e})()]},s.a.createElement(c.a,{icon:u.a})))));return d.r||e?s.a.createElement(s.a.Fragment,null,o):s.a.createElement(t,null,o)}if("blogView"===this.props.type&&!d.r){const o=s.a.createElement(s.a.Fragment,null,s.a.createElement(n.a,{className:"rounded-pill mode-select-button "+(e?"fixed ":" ")+("VIEW"===this.props.mode?"active":""),onClick:()=>this.props.changeMode("VIEW")},s.a.createElement("b",null,"閲覧する")),s.a.createElement(n.a,{className:"rounded-pill mode-select-button "+(e?"fixed ":" ")+("DL"===this.props.mode?"active":""),onClick:()=>this.props.changeMode("DL")},s.a.createElement("b",null,"保存する")));return e?s.a.createElement(s.a.Fragment,null,o):s.a.createElement(t,null,o)}if("members"===this.props.type){const t=s.a.createElement(s.a.Fragment,null,Object(d.A)(this.props.profileState.profile.favGroups).map(t=>{if(t.isActive)return s.a.createElement(n.a,{key:t.id,className:`rounded-pill mode-select-button ${t.key} `+(e?"fixed ":" ")+(this.props.group===t.key?"active":""),onClick:()=>this.props.changeGroup(t.key)},s.a.createElement("b",null,t.name))}));return d.r||e?s.a.createElement(s.a.Fragment,null,t):s.a.createElement(n.c,{size:"lg"},t)}},this.getModeSelectButtonGroupVerLeft=e=>{let t;if("home"===this.props.type?t=s.a.createElement(s.a.Fragment,null,s.a.createElement(n.a,{className:"rounded-pill mode-select-button active "+(e?"fixed":""),onClick:()=>this.props.history.push("/")},s.a.createElement("b",null,"ホーム")),s.a.createElement(n.a,{className:"rounded-pill mode-select-button "+(e?"fixed ":" ")+(d.r||e?"":"d-flex align-items-center"),onClick:()=>this.props.history.push("/images/")},s.a.createElement("b",null,"画像一覧"),s.a.createElement(y.a,{id:"mode-select-images-home",directionOnlyPc:"down",buttonClass:"rounded-circle mode-select-dropdown-button "+(e?"fixed p-0":""),buttonContainerClass:`mode-select-dropdown-button-super ${e?"fixed":""} btn-group`,dropdownMenuClassOnlyPc:"mode-select-dropdown-menu",menuSettings:[{type:"TITLE",label:"グループ選択"},...Object(d.A)(this.props.profileState.profile.favGroups).map(e=>({type:"LINK",pathname:`/images/${e.id}/`,label:""+e.name}))]},s.a.createElement(c.a,{icon:u.a}))),s.a.createElement(n.a,{className:"rounded-pill mode-select-button "+(e?"fixed ":" ")+(d.r||e?"":"d-flex align-items-center"),onClick:()=>this.props.history.push("/blogs/")},s.a.createElement("b",null,"ブログ一覧"),s.a.createElement(y.a,{id:"mode-select-images-home",directionOnlyPc:"down",buttonClass:"rounded-circle mode-select-dropdown-button "+(e?"fixed p-0":""),buttonContainerClass:`mode-select-dropdown-button-super ${e?"fixed":""} btn-group`,dropdownMenuClassOnlyPc:"mode-select-dropdown-menu",menuSettings:[{type:"TITLE",label:"グループ選択"},...Object(d.A)(this.props.profileState.profile.favGroups).map(e=>({type:"LINK",pathname:`/blogs/${e.id}/`,label:""+e.name}))]},s.a.createElement(c.a,{icon:u.a})))):"terms"===this.props.type&&(t=s.a.createElement(s.a.Fragment,null,s.a.createElement(n.a,{className:"rounded-pill mode-select-button "+(e?"fixed ":" ")+("contact"===this.props.mode?"active":""),onClick:()=>this.props.history.push("/contact/")},s.a.createElement("b",null,this.props.titleHash.contact)),s.a.createElement(n.a,{className:"rounded-pill mode-select-button "+(e?"fixed ":" ")+("termsOfService"===this.props.mode?"active":""),onClick:()=>this.props.history.push("/terms-of-service/")},s.a.createElement("b",null,this.props.titleHash.termsOfService)),s.a.createElement(n.a,{className:"rounded-pill mode-select-button "+(e?"fixed ":" ")+("privacyPolicy"===this.props.mode?"active":""),onClick:()=>this.props.history.push("/privacy-policy/")},s.a.createElement("b",null,this.props.titleHash.privacyPolicy)))),"home"===this.props.type||"terms"===this.props.type)return d.r||e?s.a.createElement(s.a.Fragment,null,t):s.a.createElement(n.c,{size:"lg",className:"ml-3 my-0"},t)},this.getTypeChangeButton=e=>{let t;if(t=e?"type-change-button-fixed":"type-change-button","blogs"===this.props.type||"images"===this.props.type)return s.a.createElement(j,{id:t,history:this.props.history,type:this.props.type,groupID:this.props.groupID,ct:this.props.ct})},this.initMembers={},Object.values(m.m).forEach(e=>this.initMembers[e.id]=[]),this.state={membersCollection:this.initMembers},this.subNavbarRef=s.a.createRef(),this.initUrl=e.match.url,this.initSearch=e.location.search,e.domDispatch({type:"SET_SUBNAVBAR_REF",subNavbarRef:this.subNavbarRef,locationKey:e.location.key})}componentDidMount(){if("blogs"===this.props.type||"images"===this.props.type){const e=Object(d.a)(m.b,"members/");l.a.get(e).then(e=>{const t=this.initMembers;Object.values(m.m).forEach(o=>{if(o.isActive){t[o.id]=[];for(const r of e.data[o.key])t[o.id].push(r.map(e=>({url:e.url,full_kanji:e.full_kanji})))}}),this.setState({membersCollection:t})}).catch(e=>{console.error(e)}).finally()}}componentDidUpdate(e){Object(d.d)(this.props.match)&&this.props.match.url===this.initUrl&&this.props.location.search===this.initSearch&&this.props.location.key!==e.location.key&&this.props.domDispatch({type:"SET_SUBNAVBAR_REF",subNavbarRef:this.subNavbarRef,locationKey:this.props.location.key})}render(){const e=this.getTypeChangeButton(!0),t=this.getModeSelectButtonGroupVerLeft(!0),o=this.getModeSelectButtonGroup(!0);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"fixed-headline border-bottom text-muted pl-0 pl-lg-3",style:{top:d.r?m.t:0,height:m.z},ref:this.subNavbarRef},s.a.createElement(p.a,{mini:!0,className:"mr-0 mr-lg-2"}),this.props.title&&(t||o)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,this.props.title),!d.r&&e,s.a.createElement("div",{className:"vertical-hr "+(d.r?"ml-3":"mx-2")})),this.props.title&&!t&&!o&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,this.props.title),!d.r&&e),s.a.createElement("div",{className:"fixed-headline-contents-wrapper",style:{height:m.z,...d.r?{}:{overflow:"visible"}}},s.a.createElement("div",{className:"fixed-headline-contents-wrapper2",style:{height:m.z}},s.a.createElement("div",{className:"text-muted fixed-headline-contents"},t,o)))),!d.r&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row justify-content-between mr-0"},s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement(p.a,null),this.getModeSelectButtonGroupVerLeft(!1),this.props.title&&s.a.createElement("h3",{className:"ml-3 my-0"},this.props.title),this.getTypeChangeButton(!1)),this.getModeSelectButtonGroup(!1))))}}t.a=Object(a.withRouter)(e=>s.a.createElement(h.a.Consumer,null,t=>s.a.createElement(g.a.Consumer,null,o=>s.a.createElement(E,v({},e,{domDispatch:t,profileState:o})))))},"./src/components/organisms/List.jsx":function(e,t,o){"use strict";o.d(t,"b",(function(){return b}));var r=o("./node_modules/react/index.js"),s=o.n(r),n=o("./node_modules/react-router-dom/esm/react-router-dom.js"),a=o("./node_modules/react-infinite-scroller/index.js"),i=o.n(a),l=o("./node_modules/react-masonry-component/lib/index.js"),c=o.n(l),u=o("./src/components/molecules/Loader.jsx"),p=o("./src/utils/index.js"),d=o("./src/components/atoms/NotFound.jsx"),m=o("./src/contexts/DomContext.jsx"),h=o("./src/constants/env.js");const f=Object(n.withRouter)(e=>{const{hasMore:t,status:o,page:n,urlExcludePage:a,isLoading:l,request:f,topComponent:b,NotFoundComponent:g,children:y}=e,v=Object(m.c)();Object(r.useEffect)(()=>{t||v({type:"APPLY_SHOW_FOOTER",location:e.location})},[t]);return s.a.createElement(s.a.Fragment,null,b,s.a.createElement(i.a,{hasMore:t,loadMore:()=>{t&&!l&&f({url:Object(p.a)(a,"?page="+n)})},initialLoad:!1,loader:s.a.createElement("div",{key:0,style:{paddingBottom:p.r?h.d:0}},s.a.createElement(u.a,null)),className:"mb-5",threshold:500},"success"===o&&s.a.createElement(c.a,{options:{itemSelector:".grid-item",transitionDuration:0,stagger:0},disableImagesLoaded:!1},y),"blog_not_found"===o&&s.a.createElement("div",null,s.a.createElement(d.c,{type:"blogFailed",margin:!0})),"image_not_found"===o&&(void 0===g?s.a.createElement("div",null,s.a.createElement(d.c,{type:"imageFailed",margin:!0})):g)))});t.a=f;const b=()=>{const[e,t]=Object(r.useState)([]),[o,s]=Object(r.useState)(""),n=Object(r.useRef)(!0),a=Object(r.useRef)(1),[i]=Object(r.useState)(Object(p.j)());return[e,o=>{t([...e,...o])},o,s,n,a,i]}},"./src/components/templates/ImageListTemplate/organisms/ImageList.jsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return g}));var r=o("./node_modules/react/index.js"),s=o.n(r),n=o("./node_modules/react-router-dom/esm/react-router-dom.js"),a=o("./src/utils/index.js"),i=o("./src/constants/env.js"),l=o("./src/components/molecules/ImageCard.jsx"),c=o("./src/hooks/useAxios.js"),u=o("./src/components/organisms/List.jsx"),p=o("./src/contexts/AuthContext.jsx"),d=o("./src/components/atoms/NotFound.jsx"),m=o("./src/contexts/ProfileContext.jsx"),h=o("./src/hooks/useList.js"),f=o("./src/hooks/useView.js");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}t.b=e=>{var t;const{topComponent:o}=e,r=Object(m.d)();return s.a.createElement(g,b({},e,{additionalQParams:null!=r&&null!==(t=r.profile)&&void 0!==t&&t.favGroups?["?groups=",r.profile.favGroups.map(e=>e.groupId)]:[],render:(e,t,r,n,i,c,p,d,m,h,f)=>s.a.createElement(u.a,{hasMore:e,status:t,page:r,urlExcludePage:n,isLoading:i,request:c,topComponent:d&&"success"===t&&o,NotFoundComponent:f},p.map(({groupID:e,blogCt:t,blogTitle:o,src:r,url:n,blogUrl:i,officialUrl:c,writer:u,order:p,isFavorite:d,width:h,height:f},b)=>{const g="grid-item "+(m?"col-6 col-md-4 col-lg-3 col-xl-2 px-1 px-sm-2 "+(a.r?"my-1 ":"my-3 "):"col-6 col-md-4 col-lg-3 px-1 px-sm-2 "+(a.r?"my-1 ":"my-3 "));return s.a.createElement("div",{key:b},s.a.createElement("div",{className:g},s.a.createElement(l.a,{id:b,groupId:e,groupKey:Object(a.m)(e),blogCt:t,blogTitle:o,srcCollection:r,urlPath:n,blogUrl:i,officialUrl:c,writer:u,order:p,initIsFavorite:d,width:h,height:f})))}))}))};const g=Object(n.withRouter)(e=>{const{type:t,render:o,additionalQParams:n}=e,{groupId:l,blogCt:m,order:b}=Object(f.b)(),{ct:g}=Object(h.a)(),{orderFormat:y}=Object(h.b)("IMAGES");let v,j,E=!1,x=!1;switch(t){case"RELATED_IMAGES":v=Object(a.a)(i.b,"relatedImages/",l,m,b),E=!0,x=!0;break;case"FAVORITE_IMAGES":v=Object(a.a)(i.b,"favorites/"),E=!0,x=!0,j=s.a.createElement("div",{className:a.t?"mx-1":"mx-3"},s.a.createElement(d.c,{type:"favoriteImage",margin:!0}));break;case"HOME":v=Object(a.a)(i.b,"home/");break;default:v=Object(a.a)(i.b,"images/",l,g)}const[O,w,k,C,S,L,_]=Object(u.b)(),N=Object(a.a)(v,y&&"?sort="+y,_&&"?random_seed="+_,...n||[]),[M,P]=Object(r.useState)(!1),I=Object(p.c)(),{isLoading:T,request:F}=Object(c.b)(Object(a.a)(N,"?page="+L.current),"get",{thenCallback:e=>{if(e.data.length>0){const t=e.data.map(e=>({groupID:e.blog.group_id,blogCt:e.blog.blog_ct,blogTitle:e.blog.title,src:e.image.src,url:e.image.url,blogUrl:e.blog.url,officialUrl:e.blog.official_url,writer:e.blog.writer,order:e.image.order,isFavorite:e.image.is_favorite,width:e.image.width,height:e.image.height}));w(t),C("success"),e.data.length<20&&(S.current=!1)}else 1==L.current?(S.current=!1,C("image_not_found")):S.current=!1;P&&P(!0)},catchCallback:e=>{404===e.response.status&&(S.current=!1,C("image_not_found"))},finallyCallback:()=>{L.current++},didRequestCallback:e=>{},shouldRequestDidMount:!0,token:I.token});return o(S.current,k,L.current,N,T,F,O,M,E,x,j)})},"./src/hooks/useList.js":function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return u}));var r=o("./node_modules/react/index.js"),s=o("./node_modules/react-router/esm/react-router.js"),n=o("./node_modules/query-string/index.js"),a=o.n(n),i=o("./src/utils/index.js");const l=()=>{var e,t;const o=Object(s.n)(),[n]=Object(r.useState)(null==o||null===(e=o.params)||void 0===e?void 0:e.groupId),[a]=Object(r.useState)(null==o||null===(t=o.params)||void 0===t?void 0:t.ct),[l]=Object(r.useState)(Object(i.m)(n));return{groupId:n,ct:a,groupKey:l}},c=e=>{const t=Object(s.l)(),o=a.a.parse(t.search);let n="";switch(e){case"BLOGS":n="newer_post";break;case"IMAGES":n="recommend";break;default:throw new Error(`the type "${e} is unexpected."`)}const[i]=Object(r.useState)(void 0===o.sort?n:o.sort),[l]=Object(r.useState)(void 0===o.keyword?"":o.keyword),[c]=Object(r.useState)(void 0===o.post?"":o.post);return{orderFormat:i,narrowingKeyword:l,narrowingPost:c}},u=()=>{const e=Object(s.l)(),t=Object(s.n)(),o=Object(s.k)();return r=>{const s=a.a.parse(e.search);r.sort||(delete s.keyword,delete s.post);const n=Object.assign(s,r);let l="";Object.keys(n).forEach((e,t)=>{l+=0==t?`?${e}=${n[e]}`:`&${e}=${n[e]}`}),o.push(Object(i.a)(t.url,l))}}},"./src/pages/ImageListPage/useImageListInfo.jsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return u}));var r=o("./node_modules/react/index.js"),s=o("./node_modules/react-router/esm/react-router.js"),n=o("./src/constants/env.js"),a=o("./src/hooks/useAxios.js"),i=o("./src/hooks/useList.js"),l=o("./src/utils/index.js"),c=o("./src/hooks/useMeta.js");const u=e=>{const{groupId:t,ct:o}=Object(i.a)(),{orderFormat:u}=Object(i.b)("IMAGES"),[p,d]=Object(r.useState)(""),[m,h]=Object(r.useState)(""),[f,b]=Object(r.useState)(0),[g,y]=Object(r.useState)(""),v=Object(s.l)().search,{setMeta:j}=Object(c.a)(),{request:E}=Object(a.b)(Object(l.a)(n.b,"images/info/",t,o,v),"get",{thenCallback:(t,o)=>{o.status?(d("画像が見つかりませんでした。"),b(0),h("not_found"),e?j(n.n,""):j("Not Found Image",n.o)):(d(o.title),b(o.numOfHit),h("success"),e?j(n.n,""):j(o.metaTitle+"の画像・写真一覧",n.o))}});return Object(r.useEffect)(()=>{y((e=>{switch(e){case"recommend":return"おすすめ順";case"newer_post":return"新着順";case"older_post":return"古い順";case"popularity":return"人気順";case"dl":return"DL順";case"view":return"閲覧数順";default:return""}})(u)),E()},[t,o,u]),{infoTitle:p,infoStatus:m,numOfHit:f,sortButtonTitle:g}}}}]);