(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"./node_modules/file-saver/dist/FileSaver.min.js":function(e,t,a){(function(a){var n,o,r;o=[],void 0===(r="function"==typeof(n=function(){"use strict";function t(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,a,s){var c=r.URL||r.webkitURL,l=document.createElement("a");a=a||e.name||"download",l.download=a,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):n(l.href)?t(e,a,s):o(l,l.target="_blank")):(l.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),a);else if(n(e))t(e,a,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,a,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,a,n);var s="application/octet-stream"===e.type,c=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c)&&"object"==typeof FileReader){var i=new FileReader;i.onloadend=function(){var e=i.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},i.readAsDataURL(e)}else{var m=r.URL||r.webkitURL,d=m.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){m.revokeObjectURL(d)}),4e4)}});r.saveAs=s.saveAs=s,e.exports=s})?n.apply(t,o):n)||(e.exports=r)}).call(this,a("./node_modules/webpack/buildin/global.js"))},"./src/components/atoms/DownloadButton.jsx":function(e,t,a){"use strict";var n=a("./node_modules/react/index.js"),o=a.n(n),r=a("./node_modules/reactstrap/es/index.js"),s=a("./node_modules/@fortawesome/react-fontawesome/index.es.js"),c=a("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js"),l=a("./src/constants/env.js");t.a=e=>{var t;const{onClick:a,groupId:n,className:i}=e;return o.a.createElement(r.a,{className:"rounded-circle p-0 "+(i||""),title:"この画像をダウンロードする",onClick:a},o.a.createElement(s.a,{icon:c.l,color:null!==(t=l.m[n])&&void 0!==t&&t.deepColor?l.m[n].deepColor:"gray",style:{fontSize:21},className:"download-button-shadow-svg"}))}},"./src/components/atoms/FavoriteButton.jsx":function(e,t,a){"use strict";a.d(t,"b",(function(){return p}));var n=a("./node_modules/react/index.js"),o=a.n(n),r=a("./node_modules/reactstrap/es/index.js"),s=a("./node_modules/lottie-web/build/player/lottie.js"),c=a.n(s),l=a("./src/utils/index.js"),i=a("./src/constants/env.js"),m=a("./src/hooks/useAxios.js"),d=a("./src/contexts/AuthContext.jsx"),u=a("./src/contexts/DomContext.jsx"),b=a("./src/hooks/useCacheRoute.js");const p=(e,t,a,o,r,s,p)=>{const[g]=Object(n.useState)(Object(l.k)()),f=Object(d.c)(),v=Object(u.c)(),{cacheRoute:j}=Object(b.a)(),w=Object(n.useRef)(!1),E=Object(l.a)(i.b,"favorites/",e,t,a),{request:O}=Object(m.b)(E,"put",{thenCallback:()=>{o(!0)},catchCallback:e=>{o(!1),409===e.response.status&&"exceed_max_num"===e.response.data.status&&(y(g),p&&p(),v({type:"OPEN_GLOBAL_MODAL",globalModalId:"ExceedMaxFavoriteModal"})),401===e.response.status&&(o(!1),y(g),p&&p(),v({type:"OPEN_GLOBAL_MODAL",globalModalId:"SignUpBeforeFavoriteModal"}))},token:f.token,csrftoken:s}),{request:h}=Object(m.b)(E,"delete",{thenCallback:()=>{o(!1)},catchCallback:()=>{o(!0)},token:f.token,csrftoken:s}),y=e=>{c.a.goToAndStop(0,!0,e)};Object(n.useEffect)(()=>{var e;j||(r?w.current||(e=g,c.a.goToAndStop(1e3,!0,e)):y(g))},[r,j]);return[()=>{r?h():(c.a.play(g),w.current=!0,setTimeout(()=>{w.current=!1},1e3),O())},g]},g=(e,t)=>{const{isFavorite:a,groupKey:s,lottieName:m,isShowMenu:d,cardHeight:u,type:b,onClickFavoriteButton:p}=e,g=Object(n.useRef)(null);let f;Object.values(i.m).forEach(e=>{e.key===s&&(f=e.bookmarkAnimationData)}),Object(n.useEffect)(()=>{g.current&&(c.a.loadAnimation({container:g.current,animationData:f,loop:!1,autoplay:!1,name:m}),c.a.setSpeed(1.8,m),a&&c.a.goToAndStop(1e3,!0,m))},[]);const v=a?"マイフォルダから削除する":"マイフォルダに追加する";if("image-card-detail-menu"===b)return o.a.createElement(r.a,{className:"px-0 d-flex flex-row align-items-center image-card-detail-menu-favorite-button text-muted",title:v,onClick:p},o.a.createElement("div",{ref:g,className:"ml-1 mr-3 mb-0 "+(a?"lottie-favorite-shadow lottie-favorite-image-view image-card-detail-menu-favorite":"lottie-favorite-image-view-deactive image-card-detail-menu-favorite")}),o.a.createElement("b",null,v));if("image-view"===b)return o.a.createElement(r.a,{className:"rounded-circle p-0 image-view-favorite-button "+(l.r?"mobile":""),title:v,onClick:p},o.a.createElement("div",{ref:g,className:""+(a?"lottie-favorite-shadow lottie-favorite-image-view":"lottie-favorite-image-view-deactive")}));if("image-card"===b){const e=u>0&&(a||d);return o.a.createElement(r.a,{className:`rounded-circle p-0 ${l.t?"smp":""} ${d?"image-card-favorite-button":"image-card-favorite-button-transparent"}`,title:v,onClick:p,style:{display:e?"block":"none"}},o.a.createElement("div",{ref:g,className:""+(a?"lottie-favorite-shadow lottie-favorite":"lottie-favorite-deactive")}))}};t.a=o.a.forwardRef(g)},"./src/components/atoms/LinkButton.jsx":function(e,t,a){"use strict";var n=a("./node_modules/react/index.js"),o=a.n(n),r=a("./node_modules/react-router-dom/esm/react-router-dom.js"),s=a("./node_modules/reactstrap/es/index.js"),c=a("./src/utils/index.js");t.a=e=>{const{to:t,className:a,style:n,children:l,id:i=Object(c.j)()}=e;return o.a.createElement(r.Link,{to:t,style:{textDecoration:"none"},id:i},o.a.createElement(s.a,{className:a,style:n},l))}},"./src/components/atoms/TooltipComponent.jsx":function(e,t,a){"use strict";var n=a("./node_modules/react/index.js"),o=a.n(n);t.a=e=>{const{children:t,title:a,backgroundColor:r="rgb(50, 50, 50)",placement:s="top"}=e,[c,l]=Object(n.useState)(!1);if(!a)return o.a.createElement(o.a.Fragment,null);const i=e=>o.a.createElement("div",{className:"tooltip-body rounded-pill px-2 py-1 "+e,style:{...r?{background:r}:{}}},a);return o.a.createElement("div",{className:"tooltip-container "+(c?"active":"")},o.a.createElement("span",{className:"tooltip-wrapper"},"top"===s&&i(s),o.a.createElement("div",{onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)}},t),"bottom"===s&&i(s)))}},"./src/components/molecules/ImageCard.jsx":function(e,t,a){"use strict";var n=a("./node_modules/react/index.js"),o=a.n(n),r=a("./node_modules/react-router-dom/esm/react-router-dom.js"),s=a("./node_modules/@fortawesome/react-fontawesome/index.es.js"),c=a("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js"),l=a("./node_modules/react-cookie/es6/index.js"),i=a("./src/utils/index.js"),m=a("./src/components/organisms/ImageView.jsx"),d=a("./src/constants/env.js"),u=a("./src/components/atoms/FavoriteButton.jsx"),b=a("./src/contexts/DomContext.jsx"),p=a("./src/components/atoms/DownloadButton.jsx"),g=a("./src/components/molecules/DropdownMobileFriendly.jsx");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const v=e=>{const{title:t,url:a}=e;return o.a.createElement(o.a.Fragment,null,""!==t&&o.a.createElement(r.Link,{to:a,className:"btn btn-primary rounded-pill image-to-blog-button image-card-button text-left d-flex align-items-center",role:"button",title:`「${t}」を確認`},o.a.createElement("h6",{className:"omit-title m-0",style:{fontSize:14}},t)))},j=e=>{const{urlPath:t,srcCollection:a,imageId:l,initIsFavorite:f,cookies:j,shouldPreload:w=!0,shouldLoadOriginal:E=!1,didMountImage:O=(()=>{}),width:h,height:y,orderly:x,groupKey:N,groupId:k,blogCt:C,order:S,writer:_,priorityImageId:I,blogUrl:L,blogTitle:F,officialUrl:R,footerMessage:A,isFavorite:M}=e,D=Object(b.c)(),[T,B]=Object(n.useState)(!1),[$,K]=Object(n.useState)(0),[U,H]=Object(n.useState)(!1),[V,q]=Object(n.useState)(i.t?a["250x"]:""),[P,z]=Object(n.useState)(i.t?"":`${a["250x"]} 1x, ${a["500x"]} 2x`),[W,G]=Object(n.useState)(!1),X=Object(n.useRef)(null),Y=Object(n.useRef)(!1),[{setIsFavorite:J}]=Object(n.useState)(Object(i.h)({},D,l)),[Q]=Object(n.useState)(j.get("csrftoken")),Z=Object(n.useRef)(null),[ee,te]=Object(u.b)(k,C,S,J,M,Q,i.r?()=>{Z.current&&Z.current.endWork()}:void 0),ae=e=>{i.r||(e&&!Y.current?B(!0):!e&&Y.current&&(W||B(!1))),Y.current=e},ne=()=>{X.current&&Number.isFinite(X.current.clientHeight)&&X.current.clientHeight>$&&K(X.current.clientHeight)};Object(n.useEffect)(()=>{if(ne(),M!==f&&D({type:"INIT_FAVORITE",imageID:l,isFavorite:f}),w){const e=new Image;e.onload=()=>{H(!0),E&&(q(a.originals),z(""))},e.src=V,e.srcset=P}},[]),Object(n.useEffect)(()=>{U&&O&&O()},[U]),Object(n.useEffect)(()=>{ne()});const oe=T&&!i.r,re=$>100,se=Number.isFinite(h)&&h>0?h:250,ce=Number.isFinite(y)&&y>0?y:250;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"image-card",onMouseEnter:()=>{ae(!0)},onMouseLeave:()=>{ae(!1)}},o.a.createElement(r.Link,{to:{pathname:t,state:{prevSrc:a}}},o.a.createElement("div",{className:"image-card-wrapper "+(i.r?"":"pc")},!w||U?o.a.createElement("div",{ref:e=>X.current=e},o.a.createElement("img",{width:se,height:ce,className:"image-card-img "+(x?"newpost-thumbnail":""),src:V,srcSet:P,alt:Object(i.i)(N,_.name),id:I||l})):o.a.createElement("div",{className:"image-card-preload-img-wrapper loading-background"},o.a.createElement("div",{className:"image-card-preload-img",style:{paddingTop:ce/se*100+"%"}})))),U&&o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{groupKey:N,lottieName:te,isFavorite:M,isShowMenu:oe,cardHeight:$,type:"image-card",onClickFavoriteButton:ee}),oe&&re&&o.a.createElement(p.a,{className:"image-card-download-button-ver2",groupId:k,onClick:()=>{Object(m.b)(Object(i.a)(d.b,t),Q)}}),oe&&o.a.createElement(o.a.Fragment,null,o.a.createElement(v,{url:L,title:F}),o.a.createElement(g.a,{id:"image-card-detail-button-"+l,buttonClass:"p-0 image-card-detail-button image-card-button rounded-circle",buttonContainerClass:"image-card-detail-button-super text-center",onToggleWork:e=>{e&&(Y.current||B(!1)),G(!e)},menuSettings:[{type:"ONCLICK",label:"この画像をダウンロードする",onClick:()=>{Object(m.b)(Object(i.a)(d.b,t),Q)},icon:c.l},{type:"ANCHOR",href:R,targetBlank:!0,label:"公式ブログで確認",icon:c.p},{type:"LINK",pathname:_.url.images,label:`「${_.name}」の画像を探す`,icon:c.w},{type:"LINK",pathname:_.url.blogs,label:`「${_.name}」のブログを探す`,icon:c.y}]},o.a.createElement(s.a,{icon:c.c}))))),(A||i.r)&&o.a.createElement("div",{className:"image-card-footer"},o.a.createElement("div",{className:"image-card-message "+(i.r?"mobile":"")},A&&o.a.createElement(r.Link,{to:{pathname:t,state:{prevSrc:a}},onMouseEnter:()=>{ae(!0)},onMouseLeave:()=>{ae(!1)},style:{textDecoration:"none"}},o.a.createElement("div",{className:"card-message mx-auto py-2 "+(i.r?"":"pc")},o.a.createElement(s.a,{icon:c.k,style:{color:"gold"}})," ",o.a.createElement("b",null,A)))),i.r&&o.a.createElement(g.a,{ref:Z,id:"image-card-detail-button-mobile-"+l,buttonClass:"rounded-circle transparent-button-mobile ml-auto",menuSettings:[{type:"TITLE",label:`${F}（${_.name}）`},{type:"CUSTOM_ONLY_MOBILE",menuComponent:o.a.createElement(u.a,{type:"image-card-detail-menu",groupKey:N,lottieName:te,isFavorite:M,onClickFavoriteButton:ee})},{type:"LINK",pathname:t,state:{prevSrc:a},label:"詳細ページへ",icon:c.f},{type:"ANCHOR",href:R,targetBlank:!0,label:"公式ブログで確認",icon:c.p},{type:"LINK",pathname:_.url.images,label:`「${_.name}」の画像を探す`,icon:c.w},{type:"LINK",pathname:_.url.blogs,label:`「${_.name}」のブログを探す`,icon:c.y}]},o.a.createElement(s.a,{icon:c.m}))))};t.a=(()=>{const e=o.a.memo(Object(l.a)(j));return t=>{const{groupId:a,blogCt:n,order:r}=t,s=`${a}-${n}-${r}`,c=Object(b.d)();return o.a.createElement(e,f({},t,{orderly:!1,imageId:s,isFavorite:c.favoriteState[s]}))}})()},"./src/components/organisms/ImageView.jsx":function(e,t,a){"use strict";a.d(t,"b",(function(){return x}));var n=a("./node_modules/react/index.js"),o=a.n(n),r=a("./node_modules/react-router-dom/esm/react-router-dom.js"),s=a("./node_modules/axios/index.js"),c=a.n(s),l=a("./node_modules/file-saver/dist/FileSaver.min.js"),i=a("./node_modules/react-cookie/es6/index.js"),m=a("./node_modules/@fortawesome/react-fontawesome/index.es.js"),d=a("./node_modules/@fortawesome/free-solid-svg-icons/index.es.js"),u=a("./src/constants/env.js"),b=a("./src/utils/index.js"),p=a("./src/components/molecules/DropdownMobileFriendly.jsx");class g extends o.a.Component{render(){return o.a.createElement("div",{className:"rounded-pill d-flex writer-card p-1 align-items-center border shadow-sm",onClick:()=>this.props.history.push(this.props.writer.url.images)},o.a.createElement("img",{className:"rounded-circle writer-card-image",src:this.props.writer.image,alt:this.props.writer.name}),o.a.createElement("h6",{className:"mx-2 mb-0"},this.props.writer.name),o.a.createElement(p.a,{id:"writer-card-menu",buttonClass:"p-0 writer-card-detail-button rounded-circle",menuSettings:[...b.r?[{type:"TITLE",label:this.props.writer.name}]:[],{type:"LINK",pathname:this.props.writer.url.images,label:"画像一覧へ",icon:d.w},{type:"LINK",pathname:this.props.writer.url.blogs,label:"ブログ一覧へ",icon:d.y},this.props.writer.graduate?{}:{type:"ANCHOR",href:this.props.writer.officialUrl,targetBlank:!0,label:"公式ブログで確認",icon:d.p}]},o.a.createElement(m.a,{icon:d.a})))}}var f=Object(r.withRouter)(g),v=a("./src/components/molecules/Loader.jsx"),j=a("./src/components/atoms/NotFound.jsx"),w=a("./src/components/atoms/FavoriteButton.jsx"),E=a("./src/components/atoms/TooltipComponent.jsx"),O=a("./src/components/atoms/DownloadButton.jsx"),h=a("./src/contexts/DomContext.jsx"),y=a("./src/hooks/useCacheRoute.js");const x=(e,t,a=(()=>{}),n)=>{c.a.post(e,{},{headers:{"X-CSRFToken":t},responseType:"blob"}).then(e=>{const t=new Blob([e.data],{type:e.data.type}),o=e.headers["content-disposition"].match(/filename="(.*)"/)[1];Object(l.saveAs)(t,o),a&&a(n)})};t.a=Object(r.withRouter)(Object(i.a)(e=>{const{groupId:t,blogCt:a,order:s,groupKey:c,imageId:l,images:i,blog:g,status:N,isReadyView:k,requestPutDownloadOnlyMobile:C,incrementNumOfDownloads:S,prevSrcCollection:_,cookies:I}=e,L=Object(r.useLocation)(),F=Object(h.d)(),R=Object(h.c)(),{isCachedRoute:A}=Object(y.a)(),[M]=Object(n.useState)(`${l}-${L.key}`),{getIsFavorite:D,setIsFavorite:T}=Object(b.h)(F.favoriteState,R,l),B=I.get("csrftoken"),[$,K]=Object(w.b)(t,a,s,T,D(),B);let U,H,V,q;if(Object(n.useEffect)(()=>{if(k){const e=document.getElementById(M);Object(b.b)(e,C)}},[k]),Object(n.useEffect)(()=>{if(k&&!A){const e=document.getElementById(M);let t=new Image;t.onload=()=>{null!==e&&(e.removeAttribute("srcset"),e.setAttribute("src",t.src))};const a=i[s];t.src=a.src.originals,R({type:"INIT_FAVORITE",imageID:l,isFavorite:i[s].isFavorite})}},[k,A]),k){if("blog_not_found"===N)U=o.a.createElement("div",{className:"py-0 py-sm-5"},o.a.createElement(j.c,{type:"blogFailed",margin:!0}));else if("success"===N){const e=i[s];H=o.a.createElement("div",{className:"ml-1 ml-sm-3 ml-lg-4 image-view-text"},o.a.createElement("div",{className:"d-flex justify-content-between mt-1 mt-sm-3 mt-lg-2 mb-2 image-view-header"},o.a.createElement("div",{className:"d-flex align-items-center p-0"},o.a.createElement(E.a,{title:"この画像の閲覧数"},o.a.createElement("div",{id:"num-of-image-views-icon"},o.a.createElement(m.a,{icon:d.q,style:{color:"gray"}})))," ",e?e.numOfViews:0,o.a.createElement(E.a,{title:"この画像のダウンロード数"},o.a.createElement("div",{className:"ml-3",id:"num-of-image-downloads-icon"},o.a.createElement(m.a,{icon:d.l,style:{color:"gray"}})))," ",e?e.numOfDownloads:0),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement(w.a,{groupKey:c,isFavorite:D(),lottieName:K,onClickFavoriteButton:$,type:"image-view"}),!b.r&&o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{title:"この画像をダウンロード"},o.a.createElement(O.a,{className:"image-view-download-button-v2",groupId:t,onClick:()=>{e&&x(Object(b.a)(u.b,e.url),B,S,s)}}))))),o.a.createElement("div",null,o.a.createElement("hr",{className:"mt-2 mt-lg-3 mb-4 mr-3"})),o.a.createElement("div",{className:"image-view-body"},o.a.createElement("div",{className:"d-flex mb-3"},o.a.createElement(E.a,{title:"掲載ブログ"},o.a.createElement(m.a,{className:"mr-3",icon:d.x,id:"image-view-blog-icon"})),g.url&&o.a.createElement(r.Link,{to:g.url,className:"image-view-blog-title"},g.title.length>50||b.t?g.title.length>0?o.a.createElement("h3",{className:"smaller"},g.title):o.a.createElement("h3",{className:"smaller"}," "):g.title.length>0?o.a.createElement("h3",null,g.title):o.a.createElement("h3",null," "))),o.a.createElement("div",{className:"d-flex align-items-center"},o.a.createElement(E.a,{title:"ブログを書いたメンバー"},o.a.createElement(m.a,{className:"mr-3",icon:d.z,id:"image-view-writer-icon"})),o.a.createElement(f,{writer:g.writer}))),o.a.createElement("div",{className:"image-view-footer mt-4 mt-sm-5 mt-lg-2 mb-2"},o.a.createElement("div",{className:"image-view-to-official-button-wrapper"},o.a.createElement(E.a,{title:"公式ブログで確認"},o.a.createElement("a",{className:"btn btn-primary rounded-pill image-view-to-official-button py-0 "+(b.t?"px-2":""),id:"image-view-to-official-button",role:"button",target:"_blank",rel:"noreferrer",href:g.officialUrl},o.a.createElement("h6",{className:"omit-title m-0 image-view-to-official-title"},o.a.createElement(m.a,{icon:d.p})," ",c+"zaka46.com")))),o.a.createElement(p.a,{id:"image-view-card-menu",buttonClass:"p-0 image-view-detail-button rounded-circle",menuSettings:[...b.r?[{type:"TITLE",label:`${g.title}（${g.writer.name}）`},{type:"LINK",pathname:g.url,label:"掲載ブログを確認",icon:d.x}]:[{type:"ONCLICK",label:"この画像をダウンロードする",onClick:()=>{x(Object(b.a)(u.b,e.url),B,S,s)},icon:d.l}],{type:"ANCHOR",href:g.officialUrl,targetBlank:!0,label:"公式ブログで確認",icon:d.p},{type:"LINK",pathname:g.writer.url.images,label:`「${g.writer.name}」の画像を探す`,icon:d.w},{type:"LINK",pathname:g.writer.url.blogs,label:`「${g.writer.name}」のブログを探す`,icon:d.y}]},o.a.createElement(m.a,{icon:d.c})))),V=Object(b.i)(c,g.writer.name)}}else H=o.a.createElement(v.a,null);if(_)q=_["250x"];else if("success"===N&&i.length>0){q=i[s].src["250x"]}else q=null;if(b.t)U=o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:"image-of-image-view smp",src:q,id:M,alt:V}),o.a.createElement("div",{className:"container mt-3 text-muted"},o.a.createElement("div",{className:"alert alert-success",role:"alert",style:{borderRadius:"1rem",fontSize:14}},"画像を長押しして保存をおこなってください"),o.a.createElement("div",{className:"card otapick-card2 mx-auto image-view smp "+c},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"p-0"},H)))));else{let e;if(_)e=`${_["250x"]} 1x, ${_["500x"]} 2x`;else if("success"===N){const t=i[s];e=`${t.src["250x"]} 1x, ${t.src["500x"]} 2x`}else e=null;U=o.a.createElement("div",{className:`card otapick-card2 mx-auto image-view ${b.r?"mb-3 mt-1":"my-4"} ${c}`},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row m-0"},o.a.createElement("div",{className:"col-12 col-lg-6 p-0"},o.a.createElement("img",{className:"image-of-image-view",src:q,id:M,srcSet:e,alt:V,onContextMenu:e=>b.r?"":e.preventDefault(),onMouseDown:e=>b.r?"":e.preventDefault()})),o.a.createElement("div",{className:"col-12 col-lg-6 p-0"},H))))}return o.a.createElement(o.a.Fragment,null,b.t?o.a.createElement("div",null,U):o.a.createElement("div",{className:"container mt-3 text-muted"},U))}))},"./src/hooks/useMeta.js":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("./node_modules/react/index.js"),o=a("./node_modules/react-router/esm/react-router.js"),r=a("./src/constants/env.js"),s=a("./src/hooks/useCacheRoute.js");const c=()=>{const[e,t]=Object(n.useState)(),[a,c]=Object(n.useState)(),i=Object(o.l)(),m=()=>{if(void 0!==e&&void 0!==a){e!==r.n?document.title=`${e}｜${r.y}`:document.title=`${r.y}｜${r.n}`;const t=document.head.children;for(const e of t){const t=e.getAttribute("name");null!==t&&-1!==t.indexOf("description")&&e.setAttribute("content",a+r.k)}l(i.pathname)}};Object(n.useEffect)(()=>{m()},[e,a]);const{isCachedRoute:d}=Object(s.a)(),u=Object(n.useRef)(!1);return Object(n.useEffect)(()=>{u.current&&!d?m():u.current=!0},[d]),{setMeta:(e,a)=>{void 0!==e&&t(e),void 0!==a&&c(a)}}},l=e=>{if(!r.i){if(!window.gtag)return;if(!r.l)return;gtag("config",r.l,{page_path:e})}}},"./src/hooks/useView.js":function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return d}));var n=a("./node_modules/react/index.js"),o=a("./node_modules/react-router/esm/react-router.js"),r=a("./src/utils/index.js"),s=a("./src/constants/env.js"),c=a("./src/hooks/useAxios.js");const l=()=>{var e,t,a;const s=Object(o.n)(),[c]=Object(n.useState)(null==s||null===(e=s.params)||void 0===e?void 0:e.groupId),[l]=Object(n.useState)(null==s||null===(t=s.params)||void 0===t?void 0:t.blogCt),[i]=Object(n.useState)(null==s||null===(a=s.params)||void 0===a?void 0:a.order),[m]=Object(n.useState)(Object(r.m)(c));return{groupId:c,blogCt:l,order:i,groupKey:m}},i=(e,t,a)=>{const[o]=Object(n.useState)(Object(r.a)(s.b,"image/",e,t,a)),[c]=Object(n.useState)(Object(r.a)(s.b,"blog/",e,t)),[l]=Object(n.useState)("/"+Object(r.a)("blog/",e,t));return{imageApiUrl:o,blogApiUrl:c,blogUrlPath:l,geneImageApiUrl:a=>Object(r.a)(s.b,"image/",e,t,a)}},m=(e,t,a)=>{Object(o.l)();const[s,l]=Object(n.useState)(),[i,m]=Object(n.useState)(),[d,u]=Object(n.useState)(""),[b,p]=Object(n.useState)(""),[g,f]=Object(n.useState)(""),[v,j]=Object(n.useState)(!1);return Object(c.b)(e,"get",{thenCallback:e=>{let n={};d||"blog_not_found"===e.data.status||(n=Object(r.e)({...e.data})),"success"===e.data.status?void 0!==a&&e.data.images.length<=a?(u("get_image_failed"),m(n),t&&t("get_image_failed")):(m(n),l(e.data.images.map(e=>Object(r.e)(e))),u("success"),p(e.data.VIEW_KEY),f(e.data.DOWNLOAD_KEY),t&&t("success",n.title,n.writer.name)):"blog_not_found"===e.data.status&&(u("blog_not_found"),t&&t("blog_not_found"))},shouldRequestDidMount:!0}),Object(n.useEffect)(()=>{!v&&void 0!==s&&void 0!==i&&"string"==typeof d&&d.length>0&&"string"==typeof b&&b.length>0&&"string"==typeof g&&g.length>0&&j(!0)},[s,i,d,b,g]),[s,l,i,d,b,g,v]},d=(e,t)=>{const[a,o]=Object(n.useState)(0),[r,s]=Object(n.useState)(0),c=Object(n.useRef)(0);return{addedNumOfViewsOnlyBlog:a,incrementNumOfViews:(n=-1)=>{if(n<0)o(a+1);else{let a=[...e];a.length>n&&(a[Number(n)].numOfViews+=1,t(a))}},addedNumOfDownloadsOnlyBlog:r,incrementNumOfDownloads:(a=-1,n=1)=>{if(a<0)c.current+=n,s(c.current);else{let o=[...e];o.length>a&&(o[Number(a)].numOfDownloads+=n,t(o))}}}}}}]);